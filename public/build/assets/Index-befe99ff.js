import{J as f,v as D,f as n,a as c,u as t,w as u,F as g,o as i,X as P,b as e,t as d,d as r,l as y,g as a,e as F,i as k,q as B,s as U,n as I,z as L,c as w,C as $}from"./app-7a45a4d7.js";import{_ as j}from"./AuthenticatedLayout-e5e81b30.js";import{_ as N}from"./PrimaryButton-2f5ad9f6.js";import{P as R}from"./Paginate-ed6f2f5a.js";import{_ as M}from"./SuccessButton-b8eabb2b.js";import{_ as W}from"./DangerButton-1fef07ae.js";import{s as x}from"./multiselect-d9ef7fb6.js";/* empty css                                                         */import"./index-38a9a8ce.js";import"./_plugin-vue_export-helper-c27b6911.js";const z={class:"page-wrapper"},O={class:"page-content"},T={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},q=e("div",{class:"breadcrumb-title pe-3"},"Manage Shipments",-1),E={class:"ps-3"},J={"aria-label":"breadcrumb"},K={class:"breadcrumb mb-0 p-0"},X=e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])],-1),G={class:"breadcrumb-item active","aria-current":"page"},H={class:"text-capitalize"},Q={key:0,class:"ms-auto"},Y={class:"card"},Z={class:"card-body"},ee=["onSubmit"],te={class:"row mb-3"},se={class:"col-md-3"},oe=e("option",{value:"1"},"AWB #",-1),ie=e("option",{value:"2"},"Shipment #",-1),ne=e("option",{value:"3"},"Company",-1),ae=e("option",{value:"4"},"Shipper",-1),le=e("option",{value:"5"},"Consignee",-1),re=[oe,ie,ne,ae,le],ce={key:0,class:"col-md-3"},de={key:1,class:"col-md-3"},_e={key:2,class:"col-md-3"},he={key:3,class:"col-md-3"},ue={class:"col-md-3"},pe={class:"table-responsive"},me={class:"table"},be={class:"table-light"},ye=e("th",{style:{width:"5px"}},"SR #",-1),ve=e("th",{style:{width:"10px"}},"AWB/Shipment #",-1),xe=e("th",{style:{width:"5px"}},"Company",-1),fe=e("th",{style:{width:"10px"}},"Shipper/Consignee",-1),ge={key:0,style:{width:"10px"}},ke={key:1,style:{width:"10px"}},we={key:2,style:{width:"10px"}},Se={key:3,style:{width:"10px"}},Ve=e("th",{style:{width:"10px"}},"Status",-1),Ce=e("th",{style:{width:"10px"}},"Actions",-1),Ae={style:{width:"10px"}},De={class:"d-flex align-items-center"},Pe={style:{width:"10px"}},Fe=e("b",null,"AWB #:",-1),Be=e("br",null,null,-1),Ue=e("b",null,"Shipment #:",-1),Ie=e("br",null,null,-1),Le={style:{width:"10px"}},$e=e("b",null,"Shipper:",-1),je=e("br",null,null,-1),Ne=e("b",null,"Consignee:",-1),Re=e("br",null,null,-1),Me={key:0,style:{width:"10px"}},We=e("b",null,"Port:",-1),ze=e("br",null,null,-1),Oe=e("b",null,"Date:",-1),Te={key:1,style:{width:"10px"}},qe=e("b",null,"Port:",-1),Ee=e("br",null,null,-1),Je=e("b",null,"Date:",-1),Ke={key:2,style:{width:"10px"}},Xe={key:3,style:{width:"10px"}},Ge={style:{width:"10px"}},He={key:0,class:"badge text-warning bg-light-warning p-2 text-uppercase px-2"},Qe=e("i",{class:"bx bxs-circle me-1"},null,-1),Ye={key:1,class:"badge text-success bg-light-success p-2 text-uppercase px-2"},Ze=e("i",{class:"bx bxs-circle me-1"},null,-1),et={key:2,class:"badge text-danger bg-light-danger p-2 text-uppercase px-2"},tt=e("i",{class:"bx bxs-circle me-1"},null,-1),st={style:{width:"10px"}},ot={class:"d-flex order-actions"},it=e("i",{class:"bx bxs-edit"},null,-1),nt=e("i",{class:"bx bxs-edit"},null,-1),at=e("i",{class:"bx bxs-collection"},null,-1),lt=["href"],rt=e("i",{class:"bx bxs-printer"},null,-1),ct=[rt],dt={class:"card-body"},_t={class:"float-right"},kt={__name:"Index",props:{invoices:Object,contact:Object,page_type:String,filter:Object,companies:Array,shippers:Array,consignees:Array},setup(p){const b=f().props.can,l=f().props.page_type,S=h=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(h),o=D({search_key:1,search_value:""}),V=()=>{if(l=="invoice")var h=route("invoice.index");else var h=route("shipment.index");var _={search_key:o.search_key,search_value:o.search_value};const m=new URLSearchParams(_).toString(),s=`${h}?${m}`;o.post(s,{preserveScroll:!0,onSuccess:v=>{},onError:v=>{},onFinish:()=>{}})},C=()=>{},A=()=>{o.search_key=1,o.search_value=""};return(h,_)=>{const m=$("InputLabel");return i(),n(g,null,[c(t(P),{title:"Invoices"}),c(j,null,{default:u(()=>[e("div",z,[e("div",O,[e("div",T,[q,e("div",E,[e("nav",J,[e("ol",K,[X,e("li",G,[e("span",H,d(t(l)),1),r(" List")])])])]),t(l)=="shipment"&&t(b).shipment_create?(i(),n("div",Q,[c(t(y),{href:h.route("shipment.create")},{default:u(()=>[c(N,null,{default:u(()=>[r("Add "+d(t(l)),1)]),_:1})]),_:1},8,["href"])])):a("",!0)]),e("div",Y,[e("div",Z,[e("form",{onSubmit:F(V,["prevent"])},[e("div",te,[e("div",se,[k(e("select",{"onUpdate:modelValue":_[0]||(_[0]=s=>t(o).search_key=s),class:"form-control",onChange:C},re,544),[[B,t(o).search_key]])]),t(o).search_key==1||t(o).search_key==2?(i(),n("div",ce,[k(e("input",{type:"search","onUpdate:modelValue":_[1]||(_[1]=s=>t(o).search_value=s),class:"form-control",placeholder:"Search"},null,512),[[U,t(o).search_value]])])):a("",!0),t(o).search_key==3?(i(),n("div",de,[c(m,{for:"",value:"Company",class:"mb-1"}),c(t(x),{searchable:!0,modelValue:t(o).search_value,"onUpdate:modelValue":_[2]||(_[2]=s=>t(o).search_value=s),options:p.companies},null,8,["modelValue","options"])])):a("",!0),t(o).search_key==4?(i(),n("div",_e,[c(m,{for:"",value:"Shipper",class:"mb-1"}),c(t(x),{searchable:!0,modelValue:t(o).search_value,"onUpdate:modelValue":_[3]||(_[3]=s=>t(o).search_value=s),options:p.shippers},null,8,["modelValue","options"])])):a("",!0),t(o).search_key==5?(i(),n("div",he,[c(m,{for:"",value:"Consignee",class:"mb-1"}),c(t(x),{searchable:!0,modelValue:t(o).search_value,"onUpdate:modelValue":_[4]||(_[4]=s=>t(o).search_value=s),options:p.consignees},null,8,["modelValue","options"])])):a("",!0),e("div",ue,[c(M,{class:I(["px-4 py-1",{"opacity-25":t(o).processing}]),disabled:t(o).processing},{default:u(()=>[r(" Search ")]),_:1},8,["class","disabled"]),c(W,{class:"px-4 py-1",onClick:A,disabled:t(o).processing},{default:u(()=>[r(" Reset ")]),_:1},8,["disabled"])])])],40,ee),e("div",pe,[e("table",me,[e("thead",be,[e("tr",null,[ye,ve,xe,fe,t(l)=="shipment"?(i(),n("th",ge,"Departure")):a("",!0),t(l)=="shipment"?(i(),n("th",ke,"Landing")):a("",!0),t(l)=="invoice"?(i(),n("th",we,"Total")):a("",!0),t(l)=="invoice"?(i(),n("th",Se,"Invoice Date")):a("",!0),Ve,Ce])]),e("tbody",null,[(i(!0),n(g,null,L(p.invoices.data,(s,v)=>(i(),n("tr",null,[e("td",Ae,[e("div",De,d(++v),1)]),e("td",Pe,[Fe,r(" "+d(s.mawb_no)+" ",1),Be,Ue,r(" "+d(s.id)+" ",1),Ie]),e("td",null,d(s.company_name),1),e("td",Le,[$e,r(" "+d(s.shipper_name)+" ",1),je,Ne,r(" "+d(s.consignee_name)+" ",1),Re]),t(l)=="shipment"?(i(),n("td",Me,[We,r(" "+d(s.sender)+" ",1),ze,Oe,r(" "+d(s.departure_at),1)])):a("",!0),t(l)=="shipment"?(i(),n("td",Te,[qe,r(" "+d(s.destination)+" ",1),Ee,Je,r(" "+d(s.landing_at),1)])):a("",!0),t(l)=="invoice"?(i(),n("td",Ke,"PKR "+d(S(s.total)),1)):a("",!0),t(l)=="invoice"?(i(),n("td",Xe,d(s.invoice_at),1)):a("",!0),e("td",Ge,[s.status_id==1?(i(),n("div",He,[Qe,r("Pending ")])):a("",!0),s.status_id==2?(i(),n("div",Ye,[Ze,r("Approved ")])):a("",!0),s.status_id==3?(i(),n("div",et,[tt,r("Rejected ")])):a("",!0)]),e("td",st,[e("div",ot,[t(l)=="shipment"&&t(b).shipment_update?(i(),w(t(y),{key:0,href:h.route("shipment.edit",s.id)},{default:u(()=>[it]),_:2},1032,["href"])):a("",!0),t(l)=="invoice"&&t(b).invoice_update?(i(),w(t(y),{key:1,href:h.route("invoice.edit",s.id)},{default:u(()=>[nt]),_:2},1032,["href"])):a("",!0),c(t(y),{href:h.route("invoice.detail",s.id),title:"Detail",class:"ms-1"},{default:u(()=>[at]),_:2},1032,["href"]),t(l)=="invoice"&&t(b).invoice_print?(i(),n("a",{key:2,href:h.route("invoice.print",s.id),title:"Print",class:"ms-1",target:"_blank"},ct,8,lt)):a("",!0)])])]))),256))])])])]),e("div",dt,[e("div",_t,[c(R,{links:p.invoices.links},null,8,["links"])])])])])])]),_:1})],64)}}};export{kt as default};
