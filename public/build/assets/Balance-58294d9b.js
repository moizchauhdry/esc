import{m as v,J as b,v as B,x as M,s as $,f as d,a as t,w as r,F as y,o as _,d as p,b as a,i as u,p as k,u as s,z as S,q as h,n as U,e as Y,t as F}from"./app-0dc89f51.js";import{_ as N,a as z}from"./SecondaryButton-ae752aec.js";import{_ as A}from"./PrimaryButton-aeccc3dd.js";import{_ as E}from"./SuccessButton-4a571dd1.js";import{_ as m}from"./InputLabel-9021cf40.js";import{_ as f}from"./InputError-e0e24591.js";import{Z as L}from"./main-4aaf71bc.js";import{h as O}from"./moment-a9aaa855.js";const T={class:"p-6"},Z=a("h2",{class:"text-lg font-medium text-gray-900"},"Opening Balance",-1),j=a("hr",null,null,-1),q={class:"mt-6"},I={class:"row g-2"},J={class:"col-md-5"},G=["value"],H={class:"col-md-4"},K={class:"col-md-3"},P={class:"col-md-12"},Q={class:"mt-6 flex justify-end"},ne={__name:"Balance",props:{companies:Array,balance:Array},setup(R){const i=v(!1),g=v(!1),x=b().props.companies,w=b().props.ledger_company_id,e=B({company_id:w||"",opening_balance:"",ledger_at:"",comments:""}),D=()=>{i.value=!0,g.value=!1},V=()=>{e.post(route("ledger.opening-balance"),{preserveScroll:!0,onSuccess:n=>{c()},onError:n=>{console.log(n)},onFinish:()=>{}})},c=()=>{i.value=!1,e.reset()};M(()=>{});const C=n=>O(n).format("YYYY-MM-DD");return $(()=>{e.ledger_at&&(e.ledger_at=C(e.ledger_at))}),(n,l)=>(_(),d(y,null,[t(A,{onClick:D,type:"button",class:"mx-1"},{default:r(()=>[p("Balance")]),_:1}),t(N,{show:i.value,onClose:c},{default:r(()=>[a("form",{onSubmit:l[4]||(l[4]=Y(o=>g.value?n.update():V(),["prevent"]))},[a("div",T,[Z,j,a("div",q,[a("div",I,[a("div",J,[t(m,{for:"",value:"Company",class:"mb-1"}),u(a("select",{"onUpdate:modelValue":l[0]||(l[0]=o=>s(e).company_id=o),class:"form-control"},[(_(!0),d(y,null,S(s(x),o=>(_(),d("option",{value:o.id},F(o.name),9,G))),256))],512),[[k,s(e).company_id]]),t(f,{message:s(e).errors.company_id},null,8,["message"])]),a("div",H,[t(m,{for:"",value:"Ledger/Invoice Date",class:"mb-1"}),t(s(L),{modelValue:s(e).ledger_at,"onUpdate:modelValue":l[1]||(l[1]=o=>s(e).ledger_at=o),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),t(f,{message:s(e).errors.ledger_at},null,8,["message"])]),a("div",K,[t(m,{for:"",value:"Opening Balance",class:"mb-1"}),u(a("input",{type:"text",class:"form-control","onUpdate:modelValue":l[2]||(l[2]=o=>s(e).opening_balance=o)},null,512),[[h,s(e).opening_balance]]),t(f,{message:s(e).errors.opening_balance},null,8,["message"])]),a("div",P,[t(m,{for:"",value:"Comments",class:"mb-1"}),u(a("textarea",{class:"form-control","onUpdate:modelValue":l[3]||(l[3]=o=>s(e).comments=o),id:"comments",rows:"3"},null,512),[[h,s(e).comments]])])])]),a("div",Q,[t(z,{onClick:c},{default:r(()=>[p(" Cancel ")]),_:1}),t(E,{class:U(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:r(()=>[p(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{ne as default};
