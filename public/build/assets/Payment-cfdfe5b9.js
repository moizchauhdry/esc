import{m as y,J as h,v as S,x as k,s as B,f as u,a as o,w as m,F as x,o as p,d as f,b as a,i as d,p as M,u as s,z as U,t as P,q as v,n as A,e as D}from"./app-82dbb27f.js";import{_ as F,a as L}from"./SecondaryButton-50d44200.js";import{_ as N}from"./PrimaryButton-5c9f0bcc.js";import{_ as z}from"./SuccessButton-b3266f85.js";import{_ as r}from"./InputLabel-aa2ef123.js";import{_ as c}from"./InputError-91fb6a9c.js";import{Z as E}from"./main-ff857365.js";const T={class:"p-6"},Z=a("h2",{class:"text-lg font-medium text-gray-900"},"Legder Payment",-1),j=a("hr",null,null,-1),q={class:"mt-6"},J={class:"row g-2"},G={class:"col-md-7"},H=["disabled"],I=["value"],K={class:"col-md-5"},O={class:"col-md-3"},Q={class:"col-md-3"},R={class:"col-md-12"},W={class:"mt-6 flex justify-end"},ne={__name:"Payment",props:{companies:Array,balance:Array},setup(X){const i=y(!1),g=y(!1),V=h().props.companies,b=h().props.ledger_company_id,e=S({company_id:b||"",balance_total:0,credit:"",ledger_at:"",comments:""}),w=()=>{i.value=!0,g.value=!1},C=()=>{axios.post(route("ledger.balance"),e).then(({data:n})=>{e.balance_total=n.balance_total}).catch(n=>{})},$=()=>{e.post(route("ledger.payment"),{preserveScroll:!0,onSuccess:n=>{_()},onError:n=>{console.log(n)},onFinish:()=>{}})},_=()=>{i.value=!1,e.reset()};return k(()=>{}),B(()=>{e.ledger_at&&C()}),(n,l)=>(p(),u(x,null,[o(N,{onClick:w,type:"button",class:"mx-1"},{default:m(()=>[f("Payment")]),_:1}),o(F,{show:i.value,onClose:_},{default:m(()=>[a("form",{onSubmit:l[5]||(l[5]=D(t=>g.value?n.update():$(),["prevent"]))},[a("div",T,[Z,j,a("div",q,[a("div",J,[a("div",G,[o(r,{for:"",value:"Company",class:"mb-1"}),d(a("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>s(e).company_id=t),class:"form-control",disabled:s(b)},[(p(!0),u(x,null,U(s(V),t=>(p(),u("option",{value:t.id},P(t.name),9,I))),256))],8,H),[[M,s(e).company_id]]),o(c,{message:s(e).errors.company_id},null,8,["message"])]),a("div",K,[o(r,{for:"",value:"Payment Date",class:"mb-1"}),o(s(E),{modelValue:s(e).ledger_at,"onUpdate:modelValue":l[1]||(l[1]=t=>s(e).ledger_at=t),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),o(c,{message:s(e).errors.ledger_at},null,8,["message"])]),a("div",O,[o(r,{for:"",value:"Balance",class:"mb-1"}),d(a("input",{type:"text",class:"form-control","onUpdate:modelValue":l[2]||(l[2]=t=>s(e).balance_total=t),readonly:""},null,512),[[v,s(e).balance_total]]),o(c,{message:s(e).errors.balance_total},null,8,["message"])]),a("div",Q,[o(r,{for:"",value:"Credit Amount",class:"mb-1"}),d(a("input",{type:"text",class:"form-control","onUpdate:modelValue":l[3]||(l[3]=t=>s(e).credit=t)},null,512),[[v,s(e).credit]]),o(c,{message:s(e).errors.credit},null,8,["message"])]),a("div",R,[o(r,{for:"",value:"Comments",class:"mb-1"}),d(a("textarea",{class:"form-control","onUpdate:modelValue":l[4]||(l[4]=t=>s(e).comments=t),id:"comments",rows:"3"},null,512),[[v,s(e).comments]])])])]),a("div",W,[o(L,{onClick:_},{default:m(()=>[f(" Cancel ")]),_:1}),o(z,{class:A(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:m(()=>[f(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{ne as default};
