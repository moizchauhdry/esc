import{_ as S}from"./AuthenticatedLayout-a1d684d6.js";import{J as B,m as F,f as n,a as r,u as _,w as g,F as d,o,X as P,b as t,c as $,A as m,B as w,g as l,C as A,t as e,z as E,v as O}from"./app-0dc89f51.js";import j from"./Filter-80847ff3.js";import I from"./Payment-71460ef7.js";import N from"./Balance-58294d9b.js";import V from"./EditLedger-6747ead9.js";import{_ as z}from"./PrimaryButton-aeccc3dd.js";import"./SecondaryButton-ae752aec.js";import"./SuccessButton-4a571dd1.js";import"./InputLabel-9021cf40.js";import"./InputError-e0e24591.js";import"./main-4aaf71bc.js";import"./moment-a9aaa855.js";const G={class:"page-wrapper"},M={class:"page-content"},U={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},W=t("div",{class:"breadcrumb-title pe-3"},"Invoice Management",-1),X=t("div",{class:"ps-3"},[t("nav",{"aria-label":"breadcrumb"},[t("ol",{class:"breadcrumb mb-0 p-0"},[t("li",{class:"breadcrumb-item"},[t("a",{href:"javascript:;"},[t("i",{class:"bx bx-home-alt"})])]),t("li",{class:"breadcrumb-item active","aria-current":"page"},"Ledger List")])])],-1),q={class:"ms-auto"},J={class:"ms-auto"},K=["href"],T=t("i",{class:"bx bxs-printer text-white"},null,-1),Y={class:"card"},H={class:"card-body"},Q={class:"table-responsive"},Z={class:"table table-bordered ledger-table table-sm",style:{"font-size":"12px"}},tt={class:"table-light"},st={colspan:"12",style:{"text-align":"center"}},et={colspan:"12",style:{"text-align":"center"},class:"text-uppercase"},at=t("tr",null,[t("th",{class:"px-2"},"Company"),t("th",{class:"px-2"},"Ledger at"),t("th",{class:"px-2"},"Airline"),t("th",{class:"px-2"},"MAWB #"),t("th",{class:"px-2"},"Orig"),t("th",{class:"px-2"},"Dest"),t("th",{class:"px-2"},"Pieces"),t("th",{class:"px-2"},"Weight"),t("th",{class:"px-2"},"Invoice ID"),t("th",{class:"px-2"},"Debit"),t("th",{class:"px-2"},"Credit"),t("th",{class:"px-2"},"Balance"),t("th",{class:"px-2"},"D/C"),t("th",{class:"px-2"})],-1),ot={class:"px-2"},ct={class:"px-2"},nt={class:"px-2"},it={class:"px-2"},lt={class:"px-2"},rt={class:"px-2"},_t={class:"px-2"},dt={class:"px-2"},mt={class:"px-2"},pt={key:1,colspan:"7"},ht={class:"px-2"},ut={class:"px-2"},bt={class:"px-2"},xt={class:"px-2"},ft={class:"px-2"},vt={key:0,class:"d-flex order-actions"},yt=["onClick"],kt=t("i",{class:"bx bx-edit"},null,-1),Ct=[kt],gt=["onClick"],$t=t("i",{class:"bx bx-trash"},null,-1),wt=[$t],Dt=t("th",{colspan:"9",class:"text-right"},"Total",-1),Gt={__name:"Index",props:{ledgers:Object,companies:Object,filter:Object,balance:Object},setup(c){const p=B().props.auth.user.roles[0],i=a=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a),D=a=>{const u=O({ledger_id:a});confirm("Are you sure you want to delete this Ledger?")&&u.post(route("ledger.delete"),{preserveScroll:!0,onSuccess:s=>{},onError:s=>{},onFinish:()=>{}})},h=F(null),L=a=>{h.value.edit(a)};return(a,u)=>(o(),n(d,null,[r(_(P),{title:"Ledgers"}),r(S,null,{default:g(()=>[t("div",G,[t("div",M,[t("div",U,[W,X,t("div",q,[r(V,{ref_key:"create_edit_ref",ref:h},null,512)]),t("div",J,[_(p).id!=2?(o(),$(N,m(w({key:0},a.$props)),null,16)):l("",!0),_(p).id!=2?(o(),$(I,m(w({key:1},a.$props)),null,16)):l("",!0),r(j,m(A(a.$props)),null,16),t("a",{href:a.route("ledger.print",c.filter),title:"Print",class:"ms-1",target:"_blank"},[r(z,null,{default:g(()=>[T]),_:1})],8,K)])]),t("div",Y,[t("div",H,[t("div",Q,[t("table",Z,[t("thead",tt,[t("tr",null,[t("th",st,e(c.filter.company_name??"EXPRESS SAVER CARGO")+" | CURRENCY: PKR/RS ",1)]),t("tr",null,[t("th",et,"General Ledger From "+e(c.filter.from)+" to "+e(c.filter.to),1)]),at]),t("tbody",null,[(o(!0),n(d,null,E(c.ledgers.data,(s,Lt)=>{var b,x,f,v,y,k,C;return o(),n("tr",null,[t("td",ot,e(s.company_name),1),t("td",ct,e(s.ledger_at),1),s.amount_type==1?(o(),n(d,{key:0},[t("td",nt,e((b=s.invoice)==null?void 0:b.carrier),1),t("td",it,e((x=s.invoice)==null?void 0:x.mawb_no),1),t("td",lt,e((f=s.invoice)==null?void 0:f.sender),1),t("td",rt,e((v=s.invoice)==null?void 0:v.destination),1),t("td",_t,e((y=s.invoice)==null?void 0:y.quantity),1),t("td",dt,e((k=s.invoice)==null?void 0:k.weight),1),t("td",mt,e((C=s.invoice)==null?void 0:C.id),1)],64)):l("",!0),s.amount_type==2||s.amount_type==3?(o(),n("td",pt,e(s.comments),1)):l("",!0),t("td",ht,e(i(s.debit)),1),t("td",ut,e(i(s.credit)),1),t("td",bt,e(i(s.balance)),1),t("td",xt,e(s.amount_type==1?"Dr":"")+" "+e(s.amount_type==2?"Cr":""),1),t("td",ft,[s.amount_type==2||s.amount_type==3?(o(),n("div",vt,[s.amount_type==2?(o(),n("a",{key:0,href:"#",class:"mx-1",onClick:R=>L(s)},Ct,8,yt)):l("",!0),t("a",{href:"#",onClick:R=>D(s.id)},wt,8,gt)])):l("",!0)])])}),256)),t("tr",null,[Dt,t("th",null,e(i(c.balance.debit_total)),1),t("th",null,e(i(c.balance.credit_total)),1),t("th",null,e(i(c.balance.balance_total)),1)])])])])])])])])]),_:1})],64))}};export{Gt as default};
