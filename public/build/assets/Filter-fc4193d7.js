import{m as y,J as h,v as k,s as C,f as c,a,w as m,F as b,o as _,d as f,b as o,i as $,p as F,u as s,z as M,n as N,e as Y,t as B}from"./app-d34879be.js";import{_ as J,a as O}from"./SecondaryButton-97ee23b4.js";import{_ as U}from"./PrimaryButton-f2783dfc.js";import{_ as z}from"./SuccessButton-dc4b02a8.js";import{_ as p}from"./InputLabel-4743497c.js";import{_ as u}from"./InputError-2c2e3c47.js";import{Z as S}from"./main-c42ba9ac.js";import{h as E}from"./moment-a9aaa855.js";const I={class:"p-6"},L=o("h2",{class:"text-lg font-medium text-gray-900"},"Search Ledger",-1),T=o("p",{class:"mt-1 text-sm text-gray-600"}," Once your account is added, you can simply search by account number, and the address will be fetched accordingly in invoice form. ",-1),Z={class:"mt-6"},j={class:"row g-2"},A={class:"col-md-6"},q=["value"],G={class:"col-md-3"},H={class:"col-md-3"},K={class:"mt-6 flex justify-end"},oe={__name:"Filter",props:{companies:Array},setup(P){const d=y(!1),v=y(!1),x=h().props.companies,D=h().props.ledger_company_id;var l="";const e=k({company:D||"",from_date:"",to_date:""}),V=()=>{d.value=!0,v.value=!1,l=localStorage.getItem("filters"),l&&(l=JSON.parse(l),e.company=l.company)},w=()=>{var n={company:e.company,from_date:e.from_date,to_date:e.to_date};e.post(route("ledger.index"),{preserveScroll:!0,onSuccess:t=>{i(),localStorage.setItem("filters",JSON.stringify(n))},onError:t=>{console.log(t)},onFinish:()=>{}})},i=()=>{d.value=!1,e.reset()},g=n=>E(n).format("YYYY-MM-DD");return C(()=>{e.from_date&&(e.from_date=g(e.from_date)),e.to_date&&(e.to_date=g(e.to_date))}),(n,t)=>(_(),c(b,null,[a(U,{onClick:V,type:"button",class:"mx-1"},{default:m(()=>[f("Search")]),_:1}),a(J,{show:d.value,onClose:i},{default:m(()=>[o("form",{onSubmit:t[3]||(t[3]=Y(r=>v.value?n.update():w(),["prevent"]))},[o("div",I,[L,T,o("div",Z,[o("div",j,[o("div",A,[a(p,{for:"",value:"Company",class:"mb-1"}),$(o("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>s(e).company=r),class:"form-control"},[(_(!0),c(b,null,M(s(x),r=>(_(),c("option",{value:r.id},B(r.name),9,q))),256))],512),[[F,s(e).company]]),a(u,{message:s(e).errors.company},null,8,["message"])]),o("div",G,[a(p,{for:"",value:"From Date",class:"mb-1"}),a(s(S),{modelValue:s(e).from_date,"onUpdate:modelValue":t[1]||(t[1]=r=>s(e).from_date=r),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),a(u,{message:s(e).errors.from_date},null,8,["message"])]),o("div",H,[a(p,{for:"",value:"To Date",class:"mb-1"}),a(s(S),{modelValue:s(e).to_date,"onUpdate:modelValue":t[2]||(t[2]=r=>s(e).to_date=r),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),a(u,{message:s(e).errors.to_date},null,8,["message"])])])]),o("div",K,[a(O,{onClick:i},{default:m(()=>[f(" Cancel ")]),_:1}),a(z,{class:N(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:m(()=>[f(" Search ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{oe as default};
