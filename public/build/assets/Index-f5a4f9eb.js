import{m as x,v as M,f as a,a as d,u as l,w as N,F as _,o,X as V,b as s,d as P,e as U,i as y,q as j,z as g,t as i,g as p,j as E}from"./app-2bab12d4.js";import{_ as F}from"./AuthenticatedLayout-16f6f5b4.js";import{_ as k}from"./InputError-9d5b9db1.js";import{P as R}from"./Paginate-10177edf.js";import"./_plugin-vue_export-helper-c27b6911.js";const $={class:"page-wrapper"},B={class:"page-content"},L={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},z=s("div",{class:"breadcrumb-title pe-3"},"User Management",-1),I=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active","aria-current":"page"},"Role & Permission")])])],-1),O={class:"ms-auto"},T={class:"col"},q=s("i",{class:"bx bx-plus"},null,-1),A={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},X={class:"modal-dialog modal-md"},G={class:"modal-content"},H=s("h5",{class:"modal-title"},"Role & Permission",-1),J={class:"modal-body"},K={class:"row g-3"},Q={class:"col-md-12"},W=s("label",{for:"input13",class:"form-label"},"Role Name",-1),Y={class:"position-relative input-icon"},Z=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),ss={class:"col-md-12"},es=s("label",{for:"input13",class:"form-label"},"Permissions",-1),ts={class:"card p-3"},as={key:0},os={key:0},ls={class:"text-uppercase"},is={class:"form-check text-capitalize"},ns=["value"],ds={class:"form-check-label",for:"flexCheckDefault"},cs={class:"modal-footer"},rs={type:"submit",class:"btn btn-primary btn-sm"},ms={class:"card"},us={class:"card-body"},_s={class:"table-responsive"},bs={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},ps=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"Name"),s("th",null,"Created Date"),s("th",null,"Updated Date"),s("td")])],-1),hs=["onClick"],vs=s("i",{class:"bx bx-edit"},null,-1),fs=[vs],xs={class:"card-body"},ys={class:"float-right"},Ds={__name:"Index",props:{roles:Object,permissions:Object},setup(b){const c=x(!1),r=x(!1),t=M({id:"",name:"",permissions:[]}),C=()=>{c.value=!0,r.value=!1},S=()=>{t.post(route("role.create"),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>h(),onFinish:()=>{}})},w=u=>{c.value=!0,r.value=!0,t.id=u.id,t.name=u.name,t.permissions=u.permissions},D=()=>{t.post(route("role.update"),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>h(),onFinish:()=>{}})},h=()=>{},m=()=>{c.value=!1,t.reset()};return(u,n)=>(o(),a(_,null,[d(l(V),{title:"Roles"}),d(F,null,{default:N(()=>[s("div",$,[s("div",B,[s("div",L,[z,I,s("div",O,[s("div",T,[s("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:C},[q,P("Add")]),c.value?(o(),a("div",A,[s("div",X,[s("div",G,[s("form",{onSubmit:n[2]||(n[2]=U(e=>r.value?D():S(),["prevent"]))},[s("div",{class:"modal-header"},[H,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:m})]),s("div",J,[s("div",K,[s("div",Q,[W,s("div",Y,[y(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"Name","onUpdate:modelValue":n[0]||(n[0]=e=>l(t).name=e)},null,512),[[j,l(t).name]]),Z]),d(k,{message:l(t).errors.name},null,8,["message"])]),s("div",ss,[es,s("div",ts,[(o(!0),a(_,null,g(b.permissions,(e,v)=>(o(),a(_,{key:e.id},[e.level==1?(o(),a("div",as,[v!=0?(o(),a("hr",os)):p("",!0),s("h6",ls,i(e.name),1)])):p("",!0),s("div",is,[y(s("input",{class:"form-check-input",type:"checkbox",value:e.id,id:"flexCheckDefault","onUpdate:modelValue":n[1]||(n[1]=f=>l(t).permissions=f)},null,8,ns),[[E,l(t).permissions]]),s("label",ds,i(e.name),1)])],64))),128))]),d(k,{message:l(t).errors.permissions},null,8,["message"])])])]),s("div",cs,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:m},"Close"),s("button",rs,i(r.value?"Save & Update":"Save & Submit"),1)])],32)])])])):p("",!0)])])]),s("div",ms,[s("div",us,[s("div",_s,[s("table",bs,[ps,s("tbody",null,[(o(!0),a(_,null,g(b.roles.data,(e,v)=>(o(),a("tr",null,[s("td",null,i(e.id),1),s("td",null,i(e.name),1),s("td",null,i(e.created_at),1),s("td",null,i(e.updated_at),1),s("td",null,[s("button",{type:"button",onClick:f=>w(e),title:"Edit",clas:"btn btn-primary"},fs,8,hs)])]))),256))])])])]),s("div",xs,[s("div",ys,[d(R,{links:b.roles.links},null,8,["links"])])])])])])]),_:1})],64))}};export{Ds as default};
