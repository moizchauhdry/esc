import{m as y,J as h,v as k,s as C,f as c,a,w as m,F as b,o as _,d as f,b as s,i as $,p as F,u as t,z as M,n as N,e as Y,t as B}from"./app-2bab12d4.js";import{_ as J,a as O}from"./SecondaryButton-d773a01c.js";import{_ as U}from"./PrimaryButton-5bfe8a8a.js";import{_ as z}from"./SuccessButton-240c7332.js";import{_ as p}from"./InputLabel-61f60fcb.js";import{_ as u}from"./InputError-9d5b9db1.js";import{Z as S}from"./main-c5515992.js";import{h as E}from"./moment-a9aaa855.js";const I={class:"p-6"},L=s("h2",{class:"text-lg font-medium text-gray-900"},"Search Ledger",-1),T=s("p",{class:"mt-1 text-sm text-gray-600"}," Once your account is added, you can simply search by account number, and the address will be fetched accordingly in invoice form. ",-1),Z={class:"mt-6"},j={class:"row g-2"},A={class:"col-md-6"},q=["value"],G={class:"col-md-3"},H={class:"col-md-3"},K={class:"mt-6 flex justify-end"},se={__name:"Filter",props:{companies:Array},setup(P){const d=y(!1),v=y(!1),x=h().props.companies,D=h().props.ledger_company_id;var l="";const e=k({company:D||"",from_date:"",to_date:""}),V=()=>{d.value=!0,v.value=!1,l=localStorage.getItem("filters"),console.log(l),l&&(l=JSON.parse(l),e.company=l.company,e.from_date=l.from_date,e.to_date=l.to_date)},w=()=>{var n={company:e.company,from_date:e.from_date,to_date:e.to_date};e.post(route("ledger.index"),{preserveScroll:!0,onSuccess:o=>{i(),localStorage.setItem("filters",JSON.stringify(n))},onError:o=>{console.log(o)},onFinish:()=>{}})},i=()=>{d.value=!1,e.reset()},g=n=>E(n).format("YYYY-MM-DD");return C(()=>{e.from_date&&(e.from_date=g(e.from_date)),e.to_date&&(e.to_date=g(e.to_date))}),(n,o)=>(_(),c(b,null,[a(U,{onClick:V,type:"button",class:"mx-1"},{default:m(()=>[f("Search")]),_:1}),a(J,{show:d.value,onClose:i},{default:m(()=>[s("form",{onSubmit:o[3]||(o[3]=Y(r=>v.value?n.update():w(),["prevent"]))},[s("div",I,[L,T,s("div",Z,[s("div",j,[s("div",A,[a(p,{for:"",value:"Company",class:"mb-1"}),$(s("select",{"onUpdate:modelValue":o[0]||(o[0]=r=>t(e).company=r),class:"form-control"},[(_(!0),c(b,null,M(t(x),r=>(_(),c("option",{value:r.id},B(r.name),9,q))),256))],512),[[F,t(e).company]]),a(u,{message:t(e).errors.company},null,8,["message"])]),s("div",G,[a(p,{for:"",value:"From Date",class:"mb-1"}),a(t(S),{modelValue:t(e).from_date,"onUpdate:modelValue":o[1]||(o[1]=r=>t(e).from_date=r),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),a(u,{message:t(e).errors.from_date},null,8,["message"])]),s("div",H,[a(p,{for:"",value:"To Date",class:"mb-1"}),a(t(S),{modelValue:t(e).to_date,"onUpdate:modelValue":o[2]||(o[2]=r=>t(e).to_date=r),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),a(u,{message:t(e).errors.to_date},null,8,["message"])])])]),s("div",K,[a(O,{onClick:i},{default:m(()=>[f(" Cancel ")]),_:1}),a(z,{class:N(["ml-3",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:m(()=>[f(" Search ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{se as default};
