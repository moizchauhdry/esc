import{m as g,v as E,f as m,a as n,w as f,F as b,o as p,d as h,b as s,t as x,i,p as N,u as o,z as P,q as d,g as w,n as $,e as F}from"./app-317354a7.js";import{_ as M,a as A}from"./SecondaryButton-9c092ff1.js";import{_ as B}from"./PrimaryButton-e6d8cb16.js";import{_ as L}from"./SuccessButton-c9b6c56c.js";import{_ as r}from"./InputError-77e67da0.js";const j={class:"p-6"},D={class:"text-lg font-medium text-gray-900"},T=s("hr",null,null,-1),q={class:"mt-6"},O={class:"row g-3"},R={class:"col-md-4"},Z=s("label",{for:"input21",class:"form-label"},"Role",-1),G=["disabled"],H=s("option",{value:""},"Choose...",-1),I=["value"],J={class:"col-md-8"},K=s("label",{for:"input13",class:"form-label"},"Name",-1),Q={class:"position-relative input-icon"},W=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),X={class:"col-md-6"},Y=s("label",{for:"input15",class:"form-label"},"Phone",-1),ss={class:"position-relative input-icon"},es=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),os={key:0,class:"col-md-6"},ts=s("label",{for:"input16",class:"form-label"},"Email",-1),ls={class:"position-relative input-icon"},as=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),ns={class:"row g-3 mt-2"},is={class:"col-md-6"},ds=s("label",{for:"",class:"form-label"},"Address Line 1",-1),rs={class:"col-md-6"},cs=s("label",{for:"",class:"form-label"},"Address Line 2",-1),ms={class:"col-md-3"},ps=s("label",{for:"",class:"form-label"},"City",-1),us={class:"col-md-3"},_s=s("label",{for:"",class:"form-label"},"State",-1),fs={class:"col-md-3"},vs=s("label",{for:"",class:"form-label"},"Country",-1),bs={class:"col-md-3"},hs=s("label",{for:"",class:"form-label"},"Zipcode",-1),ys={class:"row g-3 mt-2"},gs={class:"col-md-6"},xs=s("label",{for:"input17",class:"form-label"},"Password",-1),ws={class:"position-relative input-icon"},Vs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),Us={class:"col-md-6"},Cs=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),ks={class:"position-relative input-icon"},Ss=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),zs={class:"mt-6 flex justify-end"},Ms={__name:"CreateEdit",props:{roles:Object,selected_role:Number},setup(y,{expose:V}){const v=y,u=g(!1),c=g(!1),e=E({user_id:"",name:"",phone:"",email:"",password:"",password_confirmation:"",role:"",address_1:"",address_2:"",city:"",state:"",country:"",zipcode:""}),U=()=>{u.value=!0,c.value=!1,v.selected_role&&(e.role=v.selected_role)},C=()=>{e.post(route("user.store"),{preserveScroll:!0,onSuccess:a=>{_()},onError:a=>{console.log(a)},onFinish:()=>{}})},k=a=>{a&&(v.selected_role?e.role=a.roles[0].id:e.role=a.role_id,u.value=!0,c.value=!0,e.user_id=a.id,e.name=a.name,e.phone=a.phone,e.email=a.email,e.address_1=a.address_1,e.address_2=a.address_2,e.city=a.city,e.state=a.state,e.country=a.country,e.zipcode=a.zipcode)},S=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>_(),onError:()=>z(),onFinish:()=>{}})},z=()=>{},_=()=>{u.value=!1,e.reset()};return V({edit:a=>k(a)}),(a,l)=>(p(),m(b,null,[n(B,{onClick:U,type:"button"},{default:f(()=>[h("Add User")]),_:1}),n(M,{show:u.value,onClose:_},{default:f(()=>[s("form",{onSubmit:l[12]||(l[12]=F(t=>c.value?S():C(),["prevent"]))},[s("div",j,[s("h2",D,"User "+x(c.value?"Edit":"Create"),1),T,s("div",q,[s("div",O,[s("div",R,[Z,i(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=t=>o(e).role=t),disabled:c.value},[H,(p(!0),m(b,null,P(y.roles,t=>(p(),m("option",{key:t.id,value:t.id},x(t.name),9,I))),128))],8,G),[[N,o(e).role]]),n(r,{message:o(e).errors.role},null,8,["message"])]),s("div",J,[K,s("div",Q,[i(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"Name","onUpdate:modelValue":l[1]||(l[1]=t=>o(e).name=t)},null,512),[[d,o(e).name]]),W]),n(r,{message:o(e).errors.name},null,8,["message"])]),s("div",X,[Y,s("div",ss,[i(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"Phone","onUpdate:modelValue":l[2]||(l[2]=t=>o(e).phone=t)},null,512),[[d,o(e).phone]]),es]),n(r,{message:o(e).errors.phone},null,8,["message"])]),[3,4].includes(o(e).role)?w("",!0):(p(),m("div",os,[ts,s("div",ls,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"Email","onUpdate:modelValue":l[3]||(l[3]=t=>o(e).email=t)},null,512),[[d,o(e).email]]),as]),n(r,{message:o(e).errors.email},null,8,["message"])]))]),s("div",ns,[s("div",is,[ds,i(s("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=t=>o(e).address_1=t),class:"form-control"},null,512),[[d,o(e).address_1]]),n(r,{message:o(e).errors.address_1},null,8,["message"])]),s("div",rs,[cs,i(s("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=t=>o(e).address_2=t),class:"form-control"},null,512),[[d,o(e).address_2]]),n(r,{message:o(e).errors.address_2},null,8,["message"])]),s("div",ms,[ps,i(s("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=t=>o(e).city=t),class:"form-control"},null,512),[[d,o(e).city]]),n(r,{message:o(e).errors.city},null,8,["message"])]),s("div",us,[_s,i(s("input",{type:"text","onUpdate:modelValue":l[7]||(l[7]=t=>o(e).state=t),class:"form-control"},null,512),[[d,o(e).state]]),n(r,{message:o(e).errors.state},null,8,["message"])]),s("div",fs,[vs,i(s("input",{type:"text","onUpdate:modelValue":l[8]||(l[8]=t=>o(e).country=t),class:"form-control"},null,512),[[d,o(e).country]]),n(r,{message:o(e).errors.country},null,8,["message"])]),s("div",bs,[hs,i(s("input",{type:"text","onUpdate:modelValue":l[9]||(l[9]=t=>o(e).zipcode=t),class:"form-control"},null,512),[[d,o(e).zipcode]]),n(r,{message:o(e).errors.zipcode},null,8,["message"])])]),s("div",ys,[!c.value&&![3,4].includes(o(e).role)?(p(),m(b,{key:0},[s("div",gs,[xs,s("div",ws,[i(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"Password","onUpdate:modelValue":l[10]||(l[10]=t=>o(e).password=t)},null,512),[[d,o(e).password]]),Vs]),n(r,{message:o(e).errors.password},null,8,["message"])]),s("div",Us,[Cs,s("div",ks,[i(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"Password","onUpdate:modelValue":l[11]||(l[11]=t=>o(e).password_confirmation=t)},null,512),[[d,o(e).password_confirmation]]),Ss])])],64)):w("",!0)])]),s("div",zs,[n(A,{onClick:_},{default:f(()=>[h(" Cancel ")]),_:1}),n(L,{class:$(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:f(()=>[h(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{Ms as default};
