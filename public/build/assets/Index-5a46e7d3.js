import{J as k,v as S,f as o,a as r,u as n,w as h,F as b,o as s,X as D,b as t,t as d,d as l,l as m,g as a,e as B,i as y,q as x,n as P,z as A,c as g}from"./app-1a1608a0.js";import{_ as C}from"./AuthenticatedLayout-2ee4325a.js";import{_ as F}from"./PrimaryButton-f10b74dc.js";import{P as V}from"./Paginate-701b138b.js";import{_ as j}from"./SuccessButton-dfd060ea.js";import"./_plugin-vue_export-helper-c27b6911.js";const I={class:"page-wrapper"},N={class:"page-content"},z={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},L=t("div",{class:"breadcrumb-title pe-3"},"Manage Shipments",-1),M={class:"ps-3"},O={"aria-label":"breadcrumb"},R={class:"breadcrumb mb-0 p-0"},T=t("li",{class:"breadcrumb-item"},[t("a",{href:"javascript:;"},[t("i",{class:"bx bx-home-alt"})])],-1),U={class:"breadcrumb-item active","aria-current":"page"},W={class:"text-capitalize"},$={key:0,class:"ms-auto"},E={class:"card"},q={class:"card-body"},J=["onSubmit"],K={class:"row mb-3"},X={class:"col-md-3"},G={class:"col-md-3"},H={class:"col-md-3"},Q={class:"table-responsive"},Y={class:"table"},Z={class:"table-light"},tt=t("th",{style:{width:"5px"}},"SR #",-1),et=t("th",{style:{width:"10px"}},"AWB/Shipment #",-1),st=t("th",{style:{width:"5px"}},"Company",-1),it=t("th",{style:{width:"10px"}},"Shipper/Consignee",-1),ot={key:0,style:{width:"10px"}},nt={key:1,style:{width:"10px"}},lt={key:2,style:{width:"10px"}},at={key:3,style:{width:"10px"}},dt=t("th",{style:{width:"10px"}},"Status",-1),ct=t("th",{style:{width:"10px"}},"Actions",-1),_t={style:{width:"10px"}},rt={class:"d-flex align-items-center"},ht=t("div",null,[t("input",{class:"form-check-input me-3",type:"checkbox",value:"1","aria-label":"..."})],-1),ut={style:{width:"10px"}},pt=t("b",null,"AWB #:",-1),mt=t("br",null,null,-1),bt=t("b",null,"Shipment #:",-1),yt=t("br",null,null,-1),xt={style:{width:"10px"}},gt=t("b",null,"Shipper:",-1),ft=t("br",null,null,-1),vt=t("b",null,"Consignee:",-1),wt=t("br",null,null,-1),kt={key:0,style:{width:"10px"}},St=t("b",null,"Port:",-1),Dt=t("br",null,null,-1),Bt=t("b",null,"Date:",-1),Pt={key:1,style:{width:"10px"}},At=t("b",null,"Port:",-1),Ct=t("br",null,null,-1),Ft=t("b",null,"Date:",-1),Vt={key:2,style:{width:"10px"}},jt={key:3,style:{width:"10px"}},It={style:{width:"10px"}},Nt={key:0,class:"badge text-warning bg-light-warning p-2 text-uppercase px-2"},zt=t("i",{class:"bx bxs-circle me-1"},null,-1),Lt={key:1,class:"badge text-success bg-light-success p-2 text-uppercase px-2"},Mt=t("i",{class:"bx bxs-circle me-1"},null,-1),Ot={key:2,class:"badge text-danger bg-light-danger p-2 text-uppercase px-2"},Rt=t("i",{class:"bx bxs-circle me-1"},null,-1),Tt={style:{width:"10px"}},Ut={class:"d-flex order-actions"},Wt=t("i",{class:"bx bxs-edit"},null,-1),$t=t("i",{class:"bx bxs-edit"},null,-1),Et=t("i",{class:"bx bxs-collection"},null,-1),qt=["href"],Jt=t("i",{class:"bx bxs-printer"},null,-1),Kt=[Jt],Xt={class:"card-body"},Gt={class:"float-right"},se={__name:"Index",props:{invoices:Object,contact:Object,page_type:String,filter:Object},setup(i){const u=k().props.can,f=c=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(c),_=S({invoice_id:"",mawb_no:""}),v=()=>{_.post(route("invoice.index"),{preserveScroll:!0,onSuccess:c=>{},onError:c=>{console.log(c)},onFinish:()=>{}})};return(c,p)=>(s(),o(b,null,[r(n(D),{title:"Invoices"}),r(C,null,{default:h(()=>[t("div",I,[t("div",N,[t("div",z,[L,t("div",M,[t("nav",O,[t("ol",R,[T,t("li",U,[t("span",W,d(i.page_type),1),l(" List")])])])]),i.page_type=="shipment"&&n(u).shipment_create?(s(),o("div",$,[r(n(m),{href:c.route("shipment.create")},{default:h(()=>[r(F,null,{default:h(()=>[l("Add "+d(i.page_type),1)]),_:1})]),_:1},8,["href"])])):a("",!0)]),t("div",E,[t("div",q,[t("form",{onSubmit:B(v,["prevent"])},[t("div",K,[t("div",X,[y(t("input",{type:"text","onUpdate:modelValue":p[0]||(p[0]=e=>n(_).invoice_id=e),class:"form-control",placeholder:"Search Invoice #"},null,512),[[x,n(_).invoice_id]])]),t("div",G,[y(t("input",{type:"text","onUpdate:modelValue":p[1]||(p[1]=e=>n(_).mawb_no=e),class:"form-control",placeholder:"Search AWB #"},null,512),[[x,n(_).mawb_no]])]),t("div",H,[r(j,{class:P(["px-4 py-1",{"opacity-25":n(_).processing}]),disabled:n(_).processing},{default:h(()=>[l(" Search ")]),_:1},8,["class","disabled"])])])],40,J),t("div",Q,[t("table",Y,[t("thead",Z,[t("tr",null,[tt,et,st,it,i.page_type=="shipment"?(s(),o("th",ot,"Departure")):a("",!0),i.page_type=="shipment"?(s(),o("th",nt,"Landing")):a("",!0),i.page_type=="invoice"?(s(),o("th",lt,"Total")):a("",!0),i.page_type=="invoice"?(s(),o("th",at,"Invoice Date")):a("",!0),dt,ct])]),t("tbody",null,[(s(!0),o(b,null,A(i.invoices.data,(e,w)=>(s(),o("tr",null,[t("td",_t,[t("div",rt,[ht,l(" "+d(++w),1)])]),t("td",ut,[pt,l(" "+d(e.mawb_no)+" ",1),mt,bt,l(" "+d(e.id)+" ",1),yt]),t("td",null,d(e.company_name),1),t("td",xt,[gt,l(" "+d(e.shipper_name)+" ",1),ft,vt,l(" "+d(e.consignee_name)+" ",1),wt]),i.page_type=="shipment"?(s(),o("td",kt,[St,l(" "+d(e.sender)+" ",1),Dt,Bt,l(" "+d(e.departure_at),1)])):a("",!0),i.page_type=="shipment"?(s(),o("td",Pt,[At,l(" "+d(e.destination)+" ",1),Ct,Ft,l(" "+d(e.landing_at),1)])):a("",!0),i.page_type=="invoice"?(s(),o("td",Vt,"PKR "+d(f(e.total)),1)):a("",!0),i.page_type=="invoice"?(s(),o("td",jt,d(e.invoice_at),1)):a("",!0),t("td",It,[e.status_id==1?(s(),o("div",Nt,[zt,l("Pending ")])):a("",!0),e.status_id==2?(s(),o("div",Lt,[Mt,l("Approved ")])):a("",!0),e.status_id==3?(s(),o("div",Ot,[Rt,l("Rejected ")])):a("",!0)]),t("td",Tt,[t("div",Ut,[i.page_type=="shipment"&&n(u).shipment_update?(s(),g(n(m),{key:0,href:c.route("shipment.edit",e.id)},{default:h(()=>[Wt]),_:2},1032,["href"])):a("",!0),i.page_type=="invoice"&&n(u).invoice_update?(s(),g(n(m),{key:1,href:c.route("invoice.edit",e.id)},{default:h(()=>[$t]),_:2},1032,["href"])):a("",!0),r(n(m),{href:c.route("invoice.detail",e.id),title:"Detail",class:"ms-1"},{default:h(()=>[Et]),_:2},1032,["href"]),i.page_type=="invoice"&&n(u).invoice_print?(s(),o("a",{key:2,href:c.route("invoice.print",e.id),title:"Print",class:"ms-1",target:"_blank"},Kt,8,qt)):a("",!0)])])]))),256))])])])]),t("div",Xt,[t("div",Gt,[r(V,{links:i.invoices.links},null,8,["links"])])])])])])]),_:1})],64))}};export{se as default};
