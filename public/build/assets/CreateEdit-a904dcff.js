import{p as g,v as E,f as m,a as n,w as f,F as v,o as p,d as h,b as s,t as x,i,A as N,u as o,y as P,z as d,g as w,n as $,e as A}from"./app-3e0b7936.js";import{_ as F,a as M}from"./SecondaryButton-33bc4454.js";import{_ as B}from"./PrimaryButton-8503865a.js";import{_ as L}from"./SuccessButton-94fc99e1.js";import{_ as r}from"./InputError-f47b5412.js";const j=s("i",{class:"bx bx-plus text-lg"},null,-1),D={class:"p-6"},T={class:"text-lg font-medium text-gray-900"},O=s("hr",null,null,-1),R={class:"mt-6"},Z={class:"row g-3"},q={class:"col-md-4"},G=s("label",{for:"input21",class:"form-label"},"Role",-1),H=["disabled"],I=s("option",{value:""},"Choose...",-1),J=["value"],K={class:"col-md-8"},Q=s("label",{for:"input13",class:"form-label"},"Name",-1),W={class:"position-relative input-icon"},X=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),Y={class:"col-md-6"},ss=s("label",{for:"input15",class:"form-label"},"Phone",-1),es={class:"position-relative input-icon"},os=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),ts={key:0,class:"col-md-6"},ls=s("label",{for:"input16",class:"form-label"},"Email",-1),as={class:"position-relative input-icon"},ns=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),is={class:"row g-3 mt-2"},ds={class:"col-md-6"},rs=s("label",{for:"",class:"form-label"},"Address Line 1",-1),cs={class:"col-md-6"},ms=s("label",{for:"",class:"form-label"},"Address Line 2",-1),ps={class:"col-md-3"},us=s("label",{for:"",class:"form-label"},"City",-1),_s={class:"col-md-3"},fs=s("label",{for:"",class:"form-label"},"State",-1),bs={class:"col-md-3"},vs=s("label",{for:"",class:"form-label"},"Country",-1),hs={class:"col-md-3"},ys=s("label",{for:"",class:"form-label"},"Zipcode",-1),gs={class:"row g-3 mt-2"},xs={class:"col-md-6"},ws=s("label",{for:"input17",class:"form-label"},"Password",-1),Vs={class:"position-relative input-icon"},Cs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),Us={class:"col-md-6"},ks=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),Ss={class:"position-relative input-icon"},zs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),Es={class:"mt-6 flex justify-end"},Ms={__name:"CreateEdit",props:{roles:Object,selected_role:Number},setup(y,{expose:V}){const b=y,u=g(!1),c=g(!1),e=E({user_id:"",name:"",phone:"",email:"",password:"",password_confirmation:"",role:"",address_1:"",address_2:"",city:"",state:"",country:"",zipcode:""}),C=()=>{u.value=!0,c.value=!1,b.selected_role&&(e.role=b.selected_role)},U=()=>{e.post(route("user.store"),{preserveScroll:!0,onSuccess:a=>{_()},onError:a=>{console.log(a)},onFinish:()=>{}})},k=a=>{a&&(b.selected_role?e.role=a.roles[0].id:e.role=a.role_id,u.value=!0,c.value=!0,e.user_id=a.id,e.name=a.name,e.phone=a.phone,e.email=a.email,e.address_1=a.address_1,e.address_2=a.address_2,e.city=a.city,e.state=a.state,e.country=a.country,e.zipcode=a.zipcode)},S=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>_(),onError:()=>z(),onFinish:()=>{}})},z=()=>{},_=()=>{u.value=!1,e.reset()};return V({edit:a=>k(a)}),(a,l)=>(p(),m(v,null,[n(B,{onClick:C,type:"button",class:"mr-1"},{default:f(()=>[h("Add "),j]),_:1}),n(F,{show:u.value,onClose:_},{default:f(()=>[s("form",{onSubmit:l[12]||(l[12]=A(t=>c.value?S():U(),["prevent"]))},[s("div",D,[s("h2",T,"User "+x(c.value?"Edit":"Create"),1),O,s("div",R,[s("div",Z,[s("div",q,[G,i(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=t=>o(e).role=t),disabled:c.value},[I,(p(!0),m(v,null,P(y.roles,t=>(p(),m("option",{key:t.id,value:t.id},x(t.name),9,J))),128))],8,H),[[N,o(e).role]]),n(r,{message:o(e).errors.role},null,8,["message"])]),s("div",K,[Q,s("div",W,[i(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"Name","onUpdate:modelValue":l[1]||(l[1]=t=>o(e).name=t)},null,512),[[d,o(e).name]]),X]),n(r,{message:o(e).errors.name},null,8,["message"])]),s("div",Y,[ss,s("div",es,[i(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"Phone","onUpdate:modelValue":l[2]||(l[2]=t=>o(e).phone=t)},null,512),[[d,o(e).phone]]),os]),n(r,{message:o(e).errors.phone},null,8,["message"])]),[3,4].includes(o(e).role)?w("",!0):(p(),m("div",ts,[ls,s("div",as,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"Email","onUpdate:modelValue":l[3]||(l[3]=t=>o(e).email=t)},null,512),[[d,o(e).email]]),ns]),n(r,{message:o(e).errors.email},null,8,["message"])]))]),s("div",is,[s("div",ds,[rs,i(s("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=t=>o(e).address_1=t),class:"form-control"},null,512),[[d,o(e).address_1]]),n(r,{message:o(e).errors.address_1},null,8,["message"])]),s("div",cs,[ms,i(s("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=t=>o(e).address_2=t),class:"form-control"},null,512),[[d,o(e).address_2]]),n(r,{message:o(e).errors.address_2},null,8,["message"])]),s("div",ps,[us,i(s("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=t=>o(e).city=t),class:"form-control"},null,512),[[d,o(e).city]]),n(r,{message:o(e).errors.city},null,8,["message"])]),s("div",_s,[fs,i(s("input",{type:"text","onUpdate:modelValue":l[7]||(l[7]=t=>o(e).state=t),class:"form-control"},null,512),[[d,o(e).state]]),n(r,{message:o(e).errors.state},null,8,["message"])]),s("div",bs,[vs,i(s("input",{type:"text","onUpdate:modelValue":l[8]||(l[8]=t=>o(e).country=t),class:"form-control"},null,512),[[d,o(e).country]]),n(r,{message:o(e).errors.country},null,8,["message"])]),s("div",hs,[ys,i(s("input",{type:"text","onUpdate:modelValue":l[9]||(l[9]=t=>o(e).zipcode=t),class:"form-control"},null,512),[[d,o(e).zipcode]]),n(r,{message:o(e).errors.zipcode},null,8,["message"])])]),s("div",gs,[!c.value&&![3,4].includes(o(e).role)?(p(),m(v,{key:0},[s("div",xs,[ws,s("div",Vs,[i(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"Password","onUpdate:modelValue":l[10]||(l[10]=t=>o(e).password=t)},null,512),[[d,o(e).password]]),Cs]),n(r,{message:o(e).errors.password},null,8,["message"])]),s("div",Us,[ks,s("div",Ss,[i(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"Password","onUpdate:modelValue":l[11]||(l[11]=t=>o(e).password_confirmation=t)},null,512),[[d,o(e).password_confirmation]]),zs])])],64)):w("",!0)])]),s("div",Es,[n(M,{onClick:_},{default:f(()=>[h(" Cancel ")]),_:1}),n(L,{class:$(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:f(()=>[h(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{Ms as default};
