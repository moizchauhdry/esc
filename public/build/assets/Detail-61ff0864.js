import{_ as F}from"./AuthenticatedLayout-73277cbc.js";import{J as g,v as N,f as o,a as l,u as t,w as i,F as d,o as n,X as B,b as e,l as D,d as x,t as a,g as I,z as V}from"./app-6c6b6a1c.js";import{_ as y}from"./PrimaryButton-b515c3d4.js";const j={class:"page-wrapper"},z={class:"page-content"},A={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},E=e("div",{class:"breadcrumb-title pe-3"},"Manage Shipments",-1),L=e("div",{class:"ps-3"},[e("nav",{"aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb mb-0 p-0"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",{class:"text-capitalize"},"Detail")])])])],-1),R={class:"ms-auto"},U={class:"card"},$={class:"card-body"},J={class:"table table-bordered"},M=e("tr",{class:"bg-primary text-white"},[e("th",{class:"text-uppercase p-1",colspan:"8"},[e("div",null,"Invoice Detail")])],-1),O=e("th",null,"Invoice #",-1),T=e("th",null,"Company",-1),X=e("th",null,"Shipper",-1),q=e("th",null,"Consignee",-1),G=e("tr",{class:"bg-primary text-white"},[e("th",{class:"text-uppercase p-1",colspan:"8"},[e("div",null,"Invoice Files")])],-1),H={key:0},K={colspan:"5"},P={colspan:"3"},Q={class:"d-flex order-actions"},W=e("tr",{class:"text-uppercase"},[e("th",{colspan:"8",class:"bg-dark text-white"},[e("div",null," Attachments ")])],-1),Y=e("tr",{class:"text-uppercase"},[e("th",null,[e("div",null," SR. # ")]),e("th",{colspan:"6"},[e("div",null," URL ")])],-1),Z={colspan:"6"},ee={class:"text-underline"},te=["href"],se={key:2},oe=e("th",{class:"p-2"},"No record found.",-1),ne=[oe],re={__name:"Detail",props:{invoice:Object,invoice_files:Array},setup(ae){const s=g().props.invoice,k=g().props.can,_=N({invoice_id:s.id,file:""}),w=c=>{const p=c.target.files[0];_.file=p},C=()=>{_.post(route("invoice.upload"),{preserveScroll:!0,onSuccess:()=>{},onError:()=>error(),onFinish:()=>{}})};return(c,p)=>(n(),o(d,null,[l(t(B),{title:"Invoices"}),l(F,null,{default:i(()=>{var u,h,m,v,f,b;return[e("div",j,[e("div",z,[e("div",A,[E,L,e("div",R,[l(t(D),{href:c.route("invoice.index")},{default:i(()=>[l(y,null,{default:i(()=>[x("Back")]),_:1})]),_:1},8,["href"])])]),e("div",U,[e("div",$,[e("table",J,[M,e("tr",null,[O,e("td",null,a(t(s).id),1),T,e("td",null,a((h=(u=t(s))==null?void 0:u.company)==null?void 0:h.name),1),X,e("td",null,a((v=(m=t(s))==null?void 0:m.shipper)==null?void 0:v.name),1),q,e("td",null,a((b=(f=t(s))==null?void 0:f.consignee)==null?void 0:b.name),1)]),G,t(k).invoice_upload?(n(),o("tr",H,[e("td",K,[e("div",null,[e("input",{type:"file",class:"form-control",onChange:w},null,32)])]),e("td",P,[e("div",Q,[l(y,{onClick:C},{default:i(()=>[x("Upload File")]),_:1})])])])):I("",!0),t(s).uploads.length>0?(n(),o(d,{key:1},[W,Y,(n(!0),o(d,null,V(t(s).uploads,(r,S)=>(n(),o("tr",{key:r.id},[e("td",null,a(++S),1),e("td",Z,[e("div",ee,[e("a",{href:"/storage/"+r.url,target:"_blank",rel:"noopener noreferrer",class:"btn btn-primay"},a(r.url),9,te)])])]))),128))],64)):(n(),o("tr",se,ne))])])])])])]}),_:1})],64))}};export{re as default};
