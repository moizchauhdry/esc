import{_ as F}from"./AuthenticatedLayout-b457cd35.js";import{J as R,m as P,f as c,a as r,u as _,w,F as d,o as a,X as E,b as t,c as D,A as p,B as L,g as i,C as O,t as e,z as j,v as I}from"./app-d56012d3.js";import N from"./Filter-5b0d2342.js";import V from"./Payment-00968d44.js";import z from"./Balance-375227c5.js";import G from"./EditLedger-c9e5f42b.js";import{_ as M}from"./PrimaryButton-8b52f137.js";import"./SecondaryButton-a7cd9a98.js";import"./SuccessButton-9b9b5c20.js";import"./InputLabel-735f5051.js";import"./InputError-f9dd43d5.js";import"./main-9648e329.js";import"./moment-a9aaa855.js";const U={class:"page-wrapper"},W={class:"page-content"},X={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},q=t("div",{class:"breadcrumb-title pe-3"},"Invoice Management",-1),J=t("div",{class:"ps-3"},[t("nav",{"aria-label":"breadcrumb"},[t("ol",{class:"breadcrumb mb-0 p-0"},[t("li",{class:"breadcrumb-item"},[t("a",{href:"javascript:;"},[t("i",{class:"bx bx-home-alt"})])]),t("li",{class:"breadcrumb-item active","aria-current":"page"},"Ledger List")])])],-1),K={class:"ms-auto"},T={class:"ms-auto"},Y=["href"],H=t("i",{class:"bx bxs-printer text-white"},null,-1),Q={class:"card"},Z={class:"card-body"},tt={class:"table-responsive"},st={class:"table table-bordered ledger-table table-sm",style:{"font-size":"12px"}},et={class:"table-light"},at=t("tr",null,[t("th",{colspan:"14",class:"text-uppercase text-center"}," General Ledger | CURRENCY: PKR/RS ")],-1),ot={colspan:"14",class:"text-uppercase text-center text-lg"},ct=t("tr",null,[t("th",{class:"px-2"},"Company"),t("th",{class:"px-2"},"Ledger at"),t("th",{class:"px-2"},"Airline"),t("th",{class:"px-2"},"MAWB #"),t("th",{class:"px-2"},"Orig"),t("th",{class:"px-2"},"Dest"),t("th",{class:"px-2"},"AFC Rate"),t("th",{class:"px-2"},"Pieces"),t("th",{class:"px-2"},"Weight"),t("th",{class:"px-2"},"Invoice ID"),t("th",{class:"px-2"},"Debit"),t("th",{class:"px-2"},"Credit"),t("th",{class:"px-2"},"Balance"),t("th",{class:"px-2"},"D/C"),t("th",{class:"px-2"})],-1),nt={class:"px-2"},it={class:"px-2"},lt={class:"px-2"},rt={class:"px-2"},_t={class:"px-2"},dt={class:"px-2"},pt={class:"px-2"},mt={class:"px-2"},ht={class:"px-2"},ut={class:"px-2"},xt={key:1,colspan:"7"},bt={class:"px-2"},ft={class:"px-2"},vt={class:"px-2"},yt={class:"px-2"},kt={class:"px-2"},Ct={key:0,class:"d-flex order-actions"},gt=["onClick"],$t=t("i",{class:"bx bx-edit"},null,-1),Rt=[$t],wt=["onClick"],Dt=t("i",{class:"bx bx-trash"},null,-1),Lt=[Dt],St=t("th",{colspan:"9",class:"text-right"},"Total",-1),Wt={__name:"Index",props:{ledgers:Object,companies:Object,filter:Object,balance:Object},setup(n){const m=R().props.auth.user.roles[0],h=R().props.can,l=o=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o),S=o=>{const x=I({ledger_id:o});confirm("Are you sure you want to delete this Ledger?")&&x.post(route("ledger.delete"),{preserveScroll:!0,onSuccess:s=>{},onError:s=>{},onFinish:()=>{}})},u=P(null),A=o=>{u.value.edit(o)};return(o,x)=>(a(),c(d,null,[r(_(E),{title:"Ledgers"}),r(F,null,{default:w(()=>[t("div",U,[t("div",W,[t("div",X,[q,J,t("div",K,[r(G,{ref_key:"create_edit_ref",ref:u},null,512)]),t("div",T,[_(m).id!=2?(a(),D(z,p(L({key:0},o.$props)),null,16)):i("",!0),_(m).id!=2?(a(),D(V,p(L({key:1},o.$props)),null,16)):i("",!0),r(N,p(O(o.$props)),null,16),t("a",{href:o.route("ledger.print",n.filter),title:"Print",class:"ms-1",target:"_blank"},[r(M,null,{default:w(()=>[H]),_:1})],8,Y)])]),t("div",Q,[t("div",Z,[t("div",tt,[t("table",st,[t("thead",et,[at,t("tr",null,[t("th",ot,e(n.filter.company_name??"EXPRESS SAVER CARGO")+" | "+e(n.filter.month_name)+" "+e(n.filter.year),1)]),ct]),t("tbody",null,[(a(!0),c(d,null,j(n.ledgers.data,(s,At)=>{var b,f,v,y,k,C,g,$;return a(),c("tr",null,[t("td",nt,e(s.company_name),1),t("td",it,e(s.ledger_at),1),s.amount_type==1?(a(),c(d,{key:0},[t("td",lt,e((b=s.invoice)==null?void 0:b.carrier),1),t("td",rt,e((f=s.invoice)==null?void 0:f.mawb_no),1),t("td",_t,e((v=s.invoice)==null?void 0:v.sender),1),t("td",dt,e((y=s.invoice)==null?void 0:y.destination),1),t("td",pt,e(l((k=s.invoice)==null?void 0:k.afc_rate)),1),t("td",mt,e((C=s.invoice)==null?void 0:C.quantity),1),t("td",ht,e((g=s.invoice)==null?void 0:g.weight),1),t("td",ut,e(($=s.invoice)==null?void 0:$.id),1)],64)):i("",!0),s.amount_type==2||s.amount_type==3?(a(),c("td",xt,e(s.comments),1)):i("",!0),t("td",bt,e(l(s.debit)),1),t("td",ft,e(l(s.credit)),1),t("td",vt,e(l(s.balance)),1),t("td",yt,e(s.amount_type==1?"Dr":"")+" "+e(s.amount_type==2?"Cr":""),1),t("td",kt,[s.amount_type==2||s.amount_type==3?(a(),c("div",Ct,[s.amount_type==2?(a(),c(d,{key:0},[_(h).ledger_update?(a(),c("a",{key:0,href:"#",class:"mx-1",onClick:B=>A(s)},Rt,8,gt)):i("",!0)],64)):i("",!0),_(h).ledger_delete?(a(),c("a",{key:1,href:"#",onClick:B=>S(s.id)},Lt,8,wt)):i("",!0)])):i("",!0)])])}),256)),t("tr",null,[St,t("th",null,e(l(n.balance.debit_total)),1),t("th",null,e(l(n.balance.credit_total)),1),t("th",null,e(l(n.balance.balance_total)),1)])])])])])])])])]),_:1})],64))}};export{Wt as default};
