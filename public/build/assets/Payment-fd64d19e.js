import{m as y,J as b,v as S,x as k,f as _,a,w as m,F as x,o as p,d as f,b as o,i as c,p as B,u as s,z as M,q as v,n as U,e as P,t as A}from"./app-d34879be.js";import{_ as D,a as F}from"./SecondaryButton-97ee23b4.js";import{_ as L}from"./PrimaryButton-f2783dfc.js";import{_ as N}from"./SuccessButton-dc4b02a8.js";import{_ as r}from"./InputLabel-4743497c.js";import{_ as d}from"./InputError-2c2e3c47.js";import{Z as z}from"./main-c42ba9ac.js";const E={class:"p-6"},T=o("h2",{class:"text-lg font-medium text-gray-900"},"Legder Payment",-1),Z=o("hr",null,null,-1),j={class:"mt-6"},q={class:"row g-2"},J={class:"col-md-7"},G=["value"],H={class:"col-md-5"},I={class:"col-md-3"},K={class:"col-md-3"},O={class:"col-md-12"},Q={class:"mt-6 flex justify-end"},te={__name:"Payment",props:{companies:Array,balance:Array},setup(R){const i=y(!1),g=y(!1),h=b().props.companies,V=b().props.ledger_company_id,e=S({company_id:V||"",balance_total:0,credit:"",ledger_at:"",comments:""}),C=()=>{i.value=!0,g.value=!1,w()},w=()=>{axios.post(route("ledger.balance"),e).then(({data:n})=>{e.balance_total=n.balance_total}).catch(n=>{})},$=()=>{e.post(route("ledger.payment"),{preserveScroll:!0,onSuccess:n=>{u()},onError:n=>{console.log(n)},onFinish:()=>{}})},u=()=>{i.value=!1,e.reset()};return k(()=>{}),(n,l)=>(p(),_(x,null,[a(L,{onClick:C,type:"button",class:"mx-1"},{default:m(()=>[f("Payment")]),_:1}),a(D,{show:i.value,onClose:u},{default:m(()=>[o("form",{onSubmit:l[5]||(l[5]=P(t=>g.value?n.update():$(),["prevent"]))},[o("div",E,[T,Z,o("div",j,[o("div",q,[o("div",J,[a(r,{for:"",value:"Company",class:"mb-1"}),c(o("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>s(e).company_id=t),class:"form-control"},[(p(!0),_(x,null,M(s(h),t=>(p(),_("option",{value:t.id},A(t.name),9,G))),256))],512),[[B,s(e).company_id]]),a(d,{message:s(e).errors.company_id},null,8,["message"])]),o("div",H,[a(r,{for:"",value:"Payment Date",class:"mb-1"}),a(s(z),{modelValue:s(e).ledger_at,"onUpdate:modelValue":l[1]||(l[1]=t=>s(e).ledger_at=t),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),a(d,{message:s(e).errors.ledger_at},null,8,["message"])]),o("div",I,[a(r,{for:"",value:"Balance",class:"mb-1"}),c(o("input",{type:"text",class:"form-control","onUpdate:modelValue":l[2]||(l[2]=t=>s(e).balance_total=t),readonly:""},null,512),[[v,s(e).balance_total]]),a(d,{message:s(e).errors.balance_total},null,8,["message"])]),o("div",K,[a(r,{for:"",value:"Credit Amount",class:"mb-1"}),c(o("input",{type:"text",class:"form-control","onUpdate:modelValue":l[3]||(l[3]=t=>s(e).credit=t)},null,512),[[v,s(e).credit]]),a(d,{message:s(e).errors.credit},null,8,["message"])]),o("div",O,[a(r,{for:"",value:"Comments",class:"mb-1"}),c(o("textarea",{class:"form-control","onUpdate:modelValue":l[4]||(l[4]=t=>s(e).comments=t),id:"comments",rows:"3"},null,512),[[v,s(e).comments]])])])]),o("div",Q,[a(F,{onClick:u},{default:m(()=>[f(" Cancel ")]),_:1}),a(N,{class:U(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:m(()=>[f(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{te as default};
