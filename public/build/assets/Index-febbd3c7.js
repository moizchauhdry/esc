import{_ as L}from"./AuthenticatedLayout-428b6dd4.js";import{J as R,m as S,f as n,a as l,u as y,w as g,F as _,o as c,X as B,b as t,c as F,A as C,B as P,g as r,C as A,t as e,z as E,v as O}from"./app-d34879be.js";import j from"./Filter-fc4193d7.js";import I from"./Payment-fd64d19e.js";import N from"./EditLedger-0c10e4b3.js";import{_ as V}from"./PrimaryButton-f2783dfc.js";import"./SecondaryButton-97ee23b4.js";import"./SuccessButton-dc4b02a8.js";import"./InputLabel-4743497c.js";import"./InputError-2c2e3c47.js";import"./main-c42ba9ac.js";import"./moment-a9aaa855.js";const z={class:"page-wrapper"},G={class:"page-content"},M={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},U=t("div",{class:"breadcrumb-title pe-3"},"Invoice Management",-1),W=t("div",{class:"ps-3"},[t("nav",{"aria-label":"breadcrumb"},[t("ol",{class:"breadcrumb mb-0 p-0"},[t("li",{class:"breadcrumb-item"},[t("a",{href:"javascript:;"},[t("i",{class:"bx bx-home-alt"})])]),t("li",{class:"breadcrumb-item active","aria-current":"page"},"Ledger List")])])],-1),X={class:"ms-auto"},q={class:"ms-auto"},J=["href"],K=t("i",{class:"bx bxs-printer text-white"},null,-1),T={class:"card"},Y={class:"card-body"},H={class:"table-responsive"},Q={class:"table table-bordered ledger-table table-sm",style:{"font-size":"12px"}},Z={class:"table-light"},tt={colspan:"12",style:{"text-align":"center"}},st={colspan:"12",style:{"text-align":"center"},class:"text-uppercase"},et=t("tr",null,[t("th",{class:"px-2"},"Company"),t("th",{class:"px-2"},"Ledger at"),t("th",{class:"px-2"},"Airline"),t("th",{class:"px-2"},"MAWB #"),t("th",{class:"px-2"},"Orig"),t("th",{class:"px-2"},"Dest"),t("th",{class:"px-2"},"Pieces"),t("th",{class:"px-2"},"Weight"),t("th",{class:"px-2"},"Invoice ID"),t("th",{class:"px-2"},"Debit"),t("th",{class:"px-2"},"Credit"),t("th",{class:"px-2"},"Balance"),t("th",{class:"px-2"},"D/C"),t("th",{class:"px-2"})],-1),at={class:"px-2"},ot={class:"px-2"},ct={class:"px-2"},it={class:"px-2"},nt={class:"px-2"},lt={class:"px-2"},rt={class:"px-2"},_t={class:"px-2"},dt={class:"px-2"},mt={key:1,colspan:"7"},ht={class:"px-2"},pt={class:"px-2"},ut={class:"px-2"},bt={class:"px-2"},xt={class:"px-2"},ft={key:0,class:"d-flex order-actions"},vt=["onClick"],yt=t("i",{class:"bx bx-edit"},null,-1),gt=[yt],Ct=["onClick"],kt=t("i",{class:"bx bx-trash"},null,-1),$t=[kt],wt=t("th",{colspan:"9",class:"text-right"},"Total",-1),Vt={__name:"Index",props:{ledgers:Object,companies:Object,filter:Object,balance:Object},setup(o){const k=R().props.auth.user.roles[0],i=a=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a),$=a=>{const m=O({ledger_id:a});confirm("Are you sure you want to delete this Ledger?")&&m.post(route("ledger.delete"),{preserveScroll:!0,onSuccess:s=>{},onError:s=>{},onFinish:()=>{}})},d=S(null),w=a=>{d.value.edit(a)};return(a,m)=>(c(),n(_,null,[l(y(B),{title:"Ledgers"}),l(L,null,{default:g(()=>[t("div",z,[t("div",G,[t("div",M,[U,W,t("div",X,[l(N,{ref_key:"create_edit_ref",ref:d},null,512)]),t("div",q,[y(k).id!=2?(c(),F(I,C(P({key:0},a.$props)),null,16)):r("",!0),l(j,C(A(a.$props)),null,16),t("a",{href:a.route("ledger.print",o.filter),title:"Print",class:"ms-1",target:"_blank"},[l(V,null,{default:g(()=>[K]),_:1})],8,J)])]),t("div",T,[t("div",Y,[t("div",H,[t("table",Q,[t("thead",Z,[t("tr",null,[t("th",tt,e(o.filter.company_name??"EXPRESS SAVER CARGO")+" | CURRENCY: PKR/RS ",1)]),t("tr",null,[t("th",st,"General Ledger From "+e(o.filter.from)+" to "+e(o.filter.to),1)]),et]),t("tbody",null,[(c(!0),n(_,null,E(o.ledgers.data,(s,Dt)=>{var h,p,u,b,x,f,v;return c(),n("tr",null,[t("td",at,e(s.company_name),1),t("td",ot,e(s.ledger_at),1),s.amount_type==1?(c(),n(_,{key:0},[t("td",ct,e((h=s.invoice)==null?void 0:h.carrier),1),t("td",it,e((p=s.invoice)==null?void 0:p.mawb_no),1),t("td",nt,e((u=s.invoice)==null?void 0:u.sender),1),t("td",lt,e((b=s.invoice)==null?void 0:b.destination),1),t("td",rt,e((x=s.invoice)==null?void 0:x.quantity),1),t("td",_t,e((f=s.invoice)==null?void 0:f.weight),1),t("td",dt,e((v=s.invoice)==null?void 0:v.id),1)],64)):r("",!0),s.amount_type==2?(c(),n("td",mt,e(s.comments),1)):r("",!0),t("td",ht,e(i(s.debit)),1),t("td",pt,e(i(s.credit)),1),t("td",ut,e(i(s.balance)),1),t("td",bt,e(s.amount_type==1?"Dr":"")+" "+e(s.amount_type==2?"Cr":""),1),t("td",xt,[s.amount_type==2?(c(),n("div",ft,[t("a",{href:"#",class:"mx-1",onClick:D=>w(s)},gt,8,vt),t("a",{href:"#",onClick:D=>$(s.id)},$t,8,Ct)])):r("",!0)])])}),256)),t("tr",null,[wt,t("th",null,e(i(o.balance.debit_total)),1),t("th",null,e(i(o.balance.credit_total)),1),t("th",null,e(i(o.balance.balance_total)),1)])])])])])])])])]),_:1})],64))}};export{Vt as default};
