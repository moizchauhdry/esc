import{_ as P}from"./AuthenticatedLayout-ff668773.js";import{J as $,m as A,f as c,a as r,u as _,w,F as d,o as a,X as E,b as t,c as D,A as m,B as L,g as i,C as F,t as e,z as O,v as j}from"./app-47f65d09.js";import I from"./Filter-c97059f2.js";import N from"./Payment-81c48057.js";import V from"./Balance-64fa313b.js";import z from"./EditLedger-8976a998.js";import{_ as G}from"./PrimaryButton-ab101136.js";import"./SecondaryButton-cd39f5e8.js";import"./SuccessButton-b5fefaf0.js";import"./InputLabel-3cda327d.js";import"./InputError-ded1b456.js";import"./main-fc030996.js";import"./moment-a9aaa855.js";const M={class:"page-wrapper"},U={class:"page-content"},W={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},X=t("div",{class:"breadcrumb-title pe-3"},"Invoice Management",-1),q=t("div",{class:"ps-3"},[t("nav",{"aria-label":"breadcrumb"},[t("ol",{class:"breadcrumb mb-0 p-0"},[t("li",{class:"breadcrumb-item"},[t("a",{href:"javascript:;"},[t("i",{class:"bx bx-home-alt"})])]),t("li",{class:"breadcrumb-item active","aria-current":"page"},"Ledger List")])])],-1),J={class:"ms-auto"},K={class:"ms-auto"},T=["href"],Y=t("i",{class:"bx bxs-printer text-white"},null,-1),H={class:"card"},Q={class:"card-body"},Z={class:"table-responsive"},tt={class:"table table-bordered ledger-table table-sm",style:{"font-size":"12px"}},st={class:"table-light"},et=t("tr",null,[t("th",{colspan:"14",class:"text-uppercase text-center"}," General Ledger | CURRENCY: PKR/RS ")],-1),at={colspan:"14",class:"text-uppercase text-center text-lg"},ot=t("tr",null,[t("th",{class:"px-2"},"Company"),t("th",{class:"px-2"},"Ledger at"),t("th",{class:"px-2"},"Airline"),t("th",{class:"px-2"},"MAWB #"),t("th",{class:"px-2"},"Orig"),t("th",{class:"px-2"},"Dest"),t("th",{class:"px-2"},"Pieces"),t("th",{class:"px-2"},"Weight"),t("th",{class:"px-2"},"Invoice ID"),t("th",{class:"px-2"},"Debit"),t("th",{class:"px-2"},"Credit"),t("th",{class:"px-2"},"Balance"),t("th",{class:"px-2"},"D/C"),t("th",{class:"px-2"})],-1),ct={class:"px-2"},nt={class:"px-2"},it={class:"px-2"},lt={class:"px-2"},rt={class:"px-2"},_t={class:"px-2"},dt={class:"px-2"},mt={class:"px-2"},pt={class:"px-2"},ht={key:1,colspan:"7"},ut={class:"px-2"},bt={class:"px-2"},xt={class:"px-2"},ft={class:"px-2"},vt={class:"px-2"},yt={key:0,class:"d-flex order-actions"},kt=["onClick"],gt=t("i",{class:"bx bx-edit"},null,-1),Ct=[gt],$t=["onClick"],wt=t("i",{class:"bx bx-trash"},null,-1),Dt=[wt],Lt=t("th",{colspan:"9",class:"text-right"},"Total",-1),Mt={__name:"Index",props:{ledgers:Object,companies:Object,filter:Object,balance:Object},setup(n){const p=$().props.auth.user.roles[0],h=$().props.can,l=o=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o),R=o=>{const b=j({ledger_id:o});confirm("Are you sure you want to delete this Ledger?")&&b.post(route("ledger.delete"),{preserveScroll:!0,onSuccess:s=>{},onError:s=>{},onFinish:()=>{}})},u=A(null),S=o=>{u.value.edit(o)};return(o,b)=>(a(),c(d,null,[r(_(E),{title:"Ledgers"}),r(P,null,{default:w(()=>[t("div",M,[t("div",U,[t("div",W,[X,q,t("div",J,[r(z,{ref_key:"create_edit_ref",ref:u},null,512)]),t("div",K,[_(p).id!=2?(a(),D(V,m(L({key:0},o.$props)),null,16)):i("",!0),_(p).id!=2?(a(),D(N,m(L({key:1},o.$props)),null,16)):i("",!0),r(I,m(F(o.$props)),null,16),t("a",{href:o.route("ledger.print",n.filter),title:"Print",class:"ms-1",target:"_blank"},[r(G,null,{default:w(()=>[Y]),_:1})],8,T)])]),t("div",H,[t("div",Q,[t("div",Z,[t("table",tt,[t("thead",st,[et,t("tr",null,[t("th",at,e(n.filter.company_name??"EXPRESS SAVER CARGO")+" | "+e(n.filter.month_name)+" "+e(n.filter.year),1)]),ot]),t("tbody",null,[(a(!0),c(d,null,O(n.ledgers.data,(s,Rt)=>{var x,f,v,y,k,g,C;return a(),c("tr",null,[t("td",ct,e(s.company_name),1),t("td",nt,e(s.ledger_at),1),s.amount_type==1?(a(),c(d,{key:0},[t("td",it,e((x=s.invoice)==null?void 0:x.carrier),1),t("td",lt,e((f=s.invoice)==null?void 0:f.mawb_no),1),t("td",rt,e((v=s.invoice)==null?void 0:v.sender),1),t("td",_t,e((y=s.invoice)==null?void 0:y.destination),1),t("td",dt,e((k=s.invoice)==null?void 0:k.quantity),1),t("td",mt,e((g=s.invoice)==null?void 0:g.weight),1),t("td",pt,e((C=s.invoice)==null?void 0:C.id),1)],64)):i("",!0),s.amount_type==2||s.amount_type==3?(a(),c("td",ht,e(s.comments),1)):i("",!0),t("td",ut,e(l(s.debit)),1),t("td",bt,e(l(s.credit)),1),t("td",xt,e(l(s.balance)),1),t("td",ft,e(s.amount_type==1?"Dr":"")+" "+e(s.amount_type==2?"Cr":""),1),t("td",vt,[s.amount_type==2||s.amount_type==3?(a(),c("div",yt,[s.amount_type==2?(a(),c(d,{key:0},[_(h).ledger_update?(a(),c("a",{key:0,href:"#",class:"mx-1",onClick:B=>S(s)},Ct,8,kt)):i("",!0)],64)):i("",!0),_(h).ledger_delete?(a(),c("a",{key:1,href:"#",onClick:B=>R(s.id)},Dt,8,$t)):i("",!0)])):i("",!0)])])}),256)),t("tr",null,[Lt,t("th",null,e(l(n.balance.debit_total)),1),t("th",null,e(l(n.balance.credit_total)),1),t("th",null,e(l(n.balance.balance_total)),1)])])])])])])])])]),_:1})],64))}};export{Mt as default};
