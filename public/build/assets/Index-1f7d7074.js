import{_ as O}from"./AuthenticatedLayout-f5a70dec.js";import{J as w,m as L,f as i,a as l,u as _,w as P,F as d,o,X as j,b as t,c as S,A as m,D as A,g as c,B as I,t as s,z as V,d as z,v as G}from"./app-82dbb27f.js";import M from"./Filter-d17086b1.js";import T from"./Payment-cfdfe5b9.js";import U from"./Balance-4c95cf6a.js";import W from"./EditLedger-e98b5b53.js";import{_ as X}from"./PrimaryButton-5c9f0bcc.js";import q from"./InvoiceDetailModal-8ee520a7.js";/* empty css                                                         */import"./index-800b90d4.js";import"./SecondaryButton-50d44200.js";import"./SuccessButton-b3266f85.js";import"./InputLabel-aa2ef123.js";import"./InputError-91fb6a9c.js";import"./main-ff857365.js";import"./moment-a9aaa855.js";import"./InvoiceDetail-269c3b57.js";import"./Paginate-43db50a1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./DeleteInvoiceUpload-eb7d4f8c.js";import"./DangerButton-28d88f11.js";const J={class:"page-wrapper"},K={class:"page-content"},Y={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},H=t("div",{class:"breadcrumb-title pe-3"},"Invoice Management",-1),Q=t("div",{class:"ps-3"},[t("nav",{"aria-label":"breadcrumb"},[t("ol",{class:"breadcrumb mb-0 p-0"},[t("li",{class:"breadcrumb-item"},[t("a",{href:"javascript:;"},[t("i",{class:"bx bx-home-alt"})])]),t("li",{class:"breadcrumb-item active","aria-current":"page"},"Ledger List")])])],-1),Z={class:"ms-auto"},tt={class:"ms-auto"},et=["href"],st=t("i",{class:"bx bxs-printer text-white"},null,-1),ot={class:"card"},at={class:"card-body"},it={class:"table-responsive"},ct={class:"table table-bordered ledger-table table-sm text-uppercase",style:{"font-size":"12px"}},nt={class:"table-light"},rt=t("tr",null,[t("th",{colspan:"14",class:"text-uppercase text-center"}," General Ledger | CURRENCY: PKR/RS ")],-1),lt={colspan:"14",class:"text-uppercase text-center text-lg"},_t=t("tr",null,[t("th",{class:"px-2"},"Company"),t("th",{class:"px-2"},"Ledger at"),t("th",{class:"px-2"},"Airline"),t("th",{class:"px-2"},"MAWB #"),t("th",{class:"px-2"},"Orig"),t("th",{class:"px-2"},"Dest"),t("th",{class:"px-2"},"AFC Rate"),t("th",{class:"px-2"},"Pieces"),t("th",{class:"px-2"},"Weight"),t("th",{class:"px-2"},"Invoice ID"),t("th",{class:"px-2"},"Debit"),t("th",{class:"px-2"},"Credit"),t("th",{class:"px-2"},"Balance"),t("th",{class:"px-2"},"D/C"),t("th",{class:"px-2"})],-1),dt={class:"px-2"},pt={class:"px-2"},mt={class:"px-2"},ht={class:"px-2"},ut={class:"px-2"},xt={class:"px-2"},bt={class:"px-2"},ft={class:"px-2"},vt={class:"px-2"},yt={class:"px-2"},kt=["href"],gt=t("i",{class:"bx bxs-printer"},null,-1),Ct=[gt],$t=["href"],Dt=t("i",{class:"bx bx-link-external"},null,-1),Rt=[Dt],wt={key:1,colspan:"8"},Lt={class:"px-2"},Pt={class:"px-2"},St={class:"px-2"},At={class:"px-2"},Bt={class:"px-2"},Ft={key:0,class:"d-flex order-actions"},Et=["onClick"],Nt=t("i",{class:"bx bx-edit"},null,-1),Ot=[Nt],jt=["onClick"],It=t("i",{class:"bx bx-trash"},null,-1),Vt=[It],zt=t("th",{colspan:"10",class:"text-right"},"Total",-1),le={__name:"Index",props:{ledgers:Object,companies:Object,filter:Object,balance:Object},setup(n){const h=w().props.auth.user.roles[0],p=w().props.can,r=a=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a),B=a=>{const x=G({ledger_id:a});confirm("Are you sure you want to delete this Ledger?")&&x.post(route("ledger.delete"),{preserveScroll:!0,onSuccess:e=>{},onError:e=>{},onFinish:()=>{}})},u=L(null),F=a=>{u.value.edit(a)},E=L(null);return(a,x)=>(o(),i(d,null,[l(_(j),{title:"Ledgers"}),l(O,null,{default:P(()=>[t("div",J,[t("div",K,[t("div",Y,[H,Q,t("div",Z,[l(W,{ref_key:"create_edit_ref",ref:u},null,512)]),t("div",tt,[_(h).id!=2?(o(),S(U,m(A({key:0},a.$props)),null,16)):c("",!0),_(h).id!=2?(o(),S(T,m(A({key:1},a.$props)),null,16)):c("",!0),l(M,m(I(a.$props)),null,16),t("a",{href:a.route("ledger.print",n.filter),title:"Print",class:"ms-1",target:"_blank"},[l(X,null,{default:P(()=>[st]),_:1})],8,et)])]),t("div",ot,[t("div",at,[t("div",it,[t("table",ct,[t("thead",nt,[rt,t("tr",null,[t("th",lt,s(n.filter.company_name??"EXPRESS SAVER CARGO")+" | "+s(n.filter.month_name)+" "+s(n.filter.year),1)]),_t]),t("tbody",null,[(o(!0),i(d,null,V(n.ledgers.data,(e,Gt)=>{var b,f,v,y,k,g,C,$,D,R;return o(),i("tr",null,[t("td",dt,s(e.company_name),1),t("td",pt,s(e.ledger_at),1),e.amount_type==1?(o(),i(d,{key:0},[t("td",mt,s((b=e.invoice)==null?void 0:b.carrier),1),t("td",ht,s((f=e.invoice)==null?void 0:f.mawb_no),1),t("td",ut,s((v=e.invoice)==null?void 0:v.sender),1),t("td",xt,s((y=e.invoice)==null?void 0:y.destination),1),t("td",bt,s(r((k=e.invoice)==null?void 0:k.afc_rate)),1),t("td",ft,s((g=e.invoice)==null?void 0:g.quantity),1),t("td",vt,s((C=e.invoice)==null?void 0:C.weight),1),t("td",yt,[z(s(e.invoice.id)+" ",1),($=e.invoice)!=null&&$.id?(o(),i("a",{key:0,href:a.route("invoice.print",(D=e.invoice)==null?void 0:D.id),title:"Print",class:"text-lg",target:"_blank"},Ct,8,kt)):c("",!0),_(p).invoice_update?(o(),i("a",{key:1,href:a.route("invoice.edit",(R=e.invoice)==null?void 0:R.id),class:"text-lg",target:"_blank"},Rt,8,$t)):c("",!0)])],64)):c("",!0),e.amount_type==2||e.amount_type==3?(o(),i("td",wt,s(e.comments),1)):c("",!0),t("td",Lt,s(r(e.debit)),1),t("td",Pt,s(r(e.credit)),1),t("td",St,s(r(e.balance)),1),t("td",At,s(e.amount_type==1?"Dr":"")+" "+s(e.amount_type==2?"Cr":""),1),t("td",Bt,[e.amount_type==2||e.amount_type==3?(o(),i("div",Ft,[e.amount_type==2?(o(),i(d,{key:0},[_(p).ledger_update?(o(),i("a",{key:0,href:"#",class:"mx-1",onClick:N=>F(e)},Ot,8,Et)):c("",!0)],64)):c("",!0),_(p).ledger_delete?(o(),i("a",{key:1,class:"text-danger",href:"#",onClick:N=>B(e.id)},Vt,8,jt)):c("",!0)])):c("",!0)])])}),256)),t("tr",null,[zt,t("th",null,s(r(n.balance.debit_total)),1),t("th",null,s(r(n.balance.credit_total)),1),t("th",null,s(r(n.balance.balance_total)),1)])])])])])])])]),l(q,{ref_key:"invoice_detail_ref",ref:E},null,512)]),_:1})],64))}};export{le as default};
