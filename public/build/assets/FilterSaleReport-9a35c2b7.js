import{p as S,J as $,v as y,x as C,f as c,a as s,w as d,F as b,o as _,d as f,b as o,i as k,q as F,u as t,z as M,t as N,n as U,e as Y}from"./app-9d7a6545.js";import{_ as B,a as J}from"./SecondaryButton-ccee137a.js";import{_ as R}from"./PrimaryButton-2492944d.js";import{_ as q}from"./SuccessButton-601b780c.js";import{_ as u}from"./InputLabel-f284c4f9.js";import{_ as p}from"./InputError-67e0f4b1.js";import{Z as D}from"./main-268770af.js";import{h as z}from"./moment-a9aaa855.js";const E={class:"p-6"},I=o("h2",{class:"text-lg font-medium text-gray-900"},"Search Report",-1),L=o("hr",null,null,-1),O={class:"mt-6"},P={class:"row g-2"},T={class:"col-md-6"},Z=o("option",{value:""},"Select Carrier",-1),j=["value"],A={class:"col-md-3"},W={class:"col-md-3"},G={class:"mt-6 flex justify-end"},re={__name:"FilterSaleReport",props:{companies:Array},setup(H){const n=S(!1),v=S(!1),V=$().props.carriers;var l="";const e=y({carrier_id:"",from_date:"",to_date:""}),w=()=>{n.value=!0,v.value=!1,l=localStorage.getItem("filters"),l&&(l=JSON.parse(l),e.carrier_id=l.carrier_id,e.from_date=l.from_date,e.to_date=l.to_date)},x=()=>{var i={carrier_id:e.carrier_id,from_date:e.from_date,to_date:e.to_date};const r=new URLSearchParams(i).toString(),a=`${route("report.sale.index")}?${r}`;e.post(a,{preserveScroll:!0,onSuccess:g=>{m(),localStorage.setItem("filters",JSON.stringify(i))},onError:g=>{console.log(g)},onFinish:()=>{}})},m=()=>{n.value=!1,e.reset()},h=i=>z(i).format("YYYY-MM-DD");return C(()=>{e.from_date&&(e.from_date=h(e.from_date)),e.to_date&&(e.to_date=h(e.to_date))}),(i,r)=>(_(),c(b,null,[s(R,{onClick:w,type:"button",class:"mx-1"},{default:d(()=>[f("Search")]),_:1}),s(B,{show:n.value,onClose:m},{default:d(()=>[o("form",{onSubmit:r[3]||(r[3]=Y(a=>v.value?i.update():x(),["prevent"]))},[o("div",E,[I,L,o("div",O,[o("div",P,[o("div",T,[s(u,{for:"",value:"Carrier",class:"mb-1"}),k(o("select",{"onUpdate:modelValue":r[0]||(r[0]=a=>t(e).carrier_id=a),class:"form-control"},[Z,(_(!0),c(b,null,M(t(V),a=>(_(),c("option",{value:a.value},N(a.label),9,j))),256))],512),[[F,t(e).carrier_id]]),s(p,{message:t(e).errors.carrier_id},null,8,["message"])]),o("div",A,[s(u,{for:"",value:"From Date",class:"mb-1"}),s(t(D),{modelValue:t(e).from_date,"onUpdate:modelValue":r[1]||(r[1]=a=>t(e).from_date=a),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),s(p,{message:t(e).errors.from_date},null,8,["message"])]),o("div",W,[s(u,{for:"",value:"To Date",class:"mb-1"}),s(t(D),{modelValue:t(e).to_date,"onUpdate:modelValue":r[2]||(r[2]=a=>t(e).to_date=a),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),s(p,{message:t(e).errors.to_date},null,8,["message"])])])]),o("div",G,[s(J,{onClick:m},{default:d(()=>[f(" Cancel ")]),_:1}),s(q,{class:U(["ml-3",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:d(()=>[f(" Search ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{re as default};
