import{_ as D}from"./AuthenticatedLayout-428b6dd4.js";import{J as y,v as I,x as N,f as l,a as s,u as t,w as c,F as u,o,X as V,b as e,l as $,d as k,t as a,g as w,z as j,c as z}from"./app-d34879be.js";import{_ as C}from"./PrimaryButton-f2783dfc.js";import{P as A}from"./Paginate-57cdccd9.js";import E from"./DeleteInvoiceUpload-54236214.js";import{_ as L}from"./InputError-2c2e3c47.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./DangerButton-fbaa9d2a.js";import"./SecondaryButton-97ee23b4.js";const M={class:"page-wrapper"},P={class:"page-content"},R={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},U=e("div",{class:"breadcrumb-title pe-3"},"Manage Shipments",-1),J=e("div",{class:"ps-3"},[e("nav",{"aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb mb-0 p-0"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])]),e("li",{class:"breadcrumb-item active","aria-current":"page"},[e("span",{class:"text-capitalize"},"Detail")])])])],-1),O={class:"ms-auto"},T={class:"card"},X={class:"card-body"},q={class:"table table-bordered"},G=e("tr",{class:"bg-primary text-white"},[e("th",{class:"text-uppercase p-1",colspan:"8"},"Invoice Detail")],-1),H=e("th",null,"Invoice #",-1),K=e("th",null,"Company",-1),Q=e("th",null,"Shipper",-1),W=e("th",null,"Consignee",-1),Y=e("tr",{class:"bg-primary text-white"},[e("th",{class:"text-uppercase p-1",colspan:"8"},[e("div",null,"Invoice Files")])],-1),Z={key:0},ee={colspan:"5"},te={colspan:"3"},se={class:"d-flex order-actions"},oe={class:"table table-striped table-bordered table-sm"},ae=e("tr",{class:"text-uppercase"},[e("th",{colspan:"8",class:"bg-dark text-white"},"Attachments")],-1),le=e("tr",{class:"text-uppercase"},[e("th",null,"SR. #"),e("th",null,"File ID"),e("th",{colspan:"6"},"URL"),e("th")],-1),ne={colspan:"6"},ie={class:"text-underline"},ce=["href"],re={key:1},de=e("th",{class:"p-2"},"No record found.",-1),_e=[de],ye={__name:"Detail",props:{invoice:Object,invoice_uploads:Array},setup(r){const n=y().props.invoice,p=y().props.can,d=I({invoice_id:n.id,file:""}),F=_=>{const h=_.target.files[0];d.file=h},S=()=>{d.post(route("invoice.upload"),{preserveScroll:!0,onSuccess:()=>{},onError:()=>{},onFinish:()=>{}})};return N(()=>{}),(_,h)=>(o(),l(u,null,[s(t(V),{title:"Invoices"}),s(D,null,{default:c(()=>{var m,b,f,v,g,x;return[e("div",M,[e("div",P,[e("div",R,[U,J,e("div",O,[s(t($),{href:_.route("invoice.index")},{default:c(()=>[s(C,null,{default:c(()=>[k("Back")]),_:1})]),_:1},8,["href"])])]),e("div",T,[e("div",X,[e("table",q,[e("tbody",null,[G,e("tr",null,[H,e("td",null,a(t(n).id),1),K,e("td",null,a((b=(m=t(n))==null?void 0:m.company)==null?void 0:b.name),1),Q,e("td",null,a((v=(f=t(n))==null?void 0:f.shipper)==null?void 0:v.name),1),W,e("td",null,a((x=(g=t(n))==null?void 0:g.consignee)==null?void 0:x.name),1)]),Y,t(p).invoice_upload?(o(),l("tr",Z,[e("td",ee,[e("div",null,[e("input",{type:"file",class:"form-control",onChange:F},null,32),s(L,{message:t(d).errors.file},null,8,["message"])])]),e("td",te,[e("div",se,[s(C,{onClick:S},{default:c(()=>[k("Upload File")]),_:1})])])])):w("",!0)])]),e("table",oe,[e("tbody",null,[r.invoice_uploads.data.length>0?(o(),l(u,{key:0},[ae,le,(o(!0),l(u,null,j(r.invoice_uploads.data,(i,B)=>(o(),l("tr",{key:i.id},[e("td",null,a(++B),1),e("td",null,a(i.id),1),e("td",ne,[e("div",ie,[e("a",{href:"/storage/"+i.url,target:"_blank",rel:"noopener noreferrer",class:"btn btn-primay"},a(i.url),9,ce)])]),e("td",null,[t(p).invoice_upload_destroy?(o(),z(E,{key:0,upload_id:i.id},null,8,["upload_id"])):w("",!0)])]))),128))],64)):(o(),l("tr",re,_e))])]),e("div",null,[s(A,{links:r.invoice_uploads.links,scroll:!0},null,8,["links"])])])])])])]}),_:1})],64))}};export{ye as default};
