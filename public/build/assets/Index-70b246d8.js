import{m as x,v as M,f as a,a as m,u as l,w as N,F as _,o,X as V,b as e,d as U,e as j,i as y,q as E,y as g,t as n,g as b,j as F}from"./app-c19afc6b.js";import{_ as R}from"./AuthenticatedLayout-0d7f1b7d.js";import{_ as k}from"./InputError-c1d8afd0.js";const $={class:"page-wrapper"},B={class:"page-content"},L={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},P=e("div",{class:"breadcrumb-title pe-3"},"User Management",-1),I=e("div",{class:"ps-3"},[e("nav",{"aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb mb-0 p-0"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])]),e("li",{class:"breadcrumb-item active","aria-current":"page"},"Role & Permission")])])],-1),O={class:"ms-auto"},T={class:"col"},q=e("i",{class:"bx bx-plus"},null,-1),z={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},A={class:"modal-dialog modal-md"},X={class:"modal-content"},G=e("h5",{class:"modal-title"},"Role & Permission",-1),H={class:"modal-body"},J={class:"row g-3"},K={class:"col-md-12"},Q=e("label",{for:"input13",class:"form-label"},"Role Name",-1),W={class:"position-relative input-icon"},Y=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-user"})],-1),Z={class:"col-md-12"},ee=e("label",{for:"input13",class:"form-label"},"Permissions",-1),se={class:"card p-3"},te={key:0},ae={key:0},oe={class:"text-uppercase"},le={class:"form-check text-capitalize"},ne=["value"],ie={class:"form-check-label",for:"flexCheckDefault"},de={class:"modal-footer"},ce={type:"submit",class:"btn btn-primary btn-sm"},re={class:"card"},ue={class:"card-body"},me={class:"table-responsive"},_e={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},be=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Created Date"),e("th",null,"Updated Date"),e("td")])],-1),pe=["onClick"],he=e("i",{class:"bx bx-edit"},null,-1),ve=[he],ge={__name:"Index",props:{roles:Object,permissions:Object},setup(p){const d=x(!1),c=x(!1),t=M({id:"",name:"",permissions:[]}),C=()=>{d.value=!0,c.value=!1},S=()=>{t.post(route("role.create"),{preserveScroll:!0,onSuccess:()=>r(),onError:()=>h(),onFinish:()=>{}})},w=u=>{d.value=!0,c.value=!0,t.id=u.id,t.name=u.name,t.permissions=u.permissions},D=()=>{t.post(route("role.update"),{preserveScroll:!0,onSuccess:()=>r(),onError:()=>h(),onFinish:()=>{}})},h=()=>{},r=()=>{d.value=!1,t.reset()};return(u,i)=>(o(),a(_,null,[m(l(V),{title:"Roles"}),m(R,null,{default:N(()=>[e("div",$,[e("div",B,[e("div",L,[P,I,e("div",O,[e("div",T,[e("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:C},[q,U("Add")]),d.value?(o(),a("div",z,[e("div",A,[e("div",X,[e("form",{onSubmit:i[2]||(i[2]=j(s=>c.value?D():S(),["prevent"]))},[e("div",{class:"modal-header"},[G,e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:r})]),e("div",H,[e("div",J,[e("div",K,[Q,e("div",W,[y(e("input",{type:"text",class:"form-control",id:"input13",placeholder:"Name","onUpdate:modelValue":i[0]||(i[0]=s=>l(t).name=s)},null,512),[[E,l(t).name]]),Y]),m(k,{message:l(t).errors.name},null,8,["message"])]),e("div",Z,[ee,e("div",se,[(o(!0),a(_,null,g(p.permissions,(s,v)=>(o(),a(_,{key:s.id},[s.level==1?(o(),a("div",te,[v!=0?(o(),a("hr",ae)):b("",!0),e("h6",oe,n(s.name),1)])):b("",!0),e("div",le,[y(e("input",{class:"form-check-input",type:"checkbox",value:s.id,id:"flexCheckDefault","onUpdate:modelValue":i[1]||(i[1]=f=>l(t).permissions=f)},null,8,ne),[[F,l(t).permissions]]),e("label",ie,n(s.name),1)])],64))),128))]),m(k,{message:l(t).errors.permissions},null,8,["message"])])])]),e("div",de,[e("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:r},"Close"),e("button",ce,n(c.value?"Save & Update":"Save & Submit"),1)])],32)])])])):b("",!0)])])]),e("div",re,[e("div",ue,[e("div",me,[e("table",_e,[be,e("tbody",null,[(o(!0),a(_,null,g(p.roles.data,(s,v)=>(o(),a("tr",null,[e("td",null,n(s.id),1),e("td",null,n(s.name),1),e("td",null,n(s.created_at),1),e("td",null,n(s.updated_at),1),e("td",null,[e("button",{type:"button",onClick:f=>w(s),title:"Edit",clas:"btn btn-primary"},ve,8,pe)])]))),256))])])])])])])])]),_:1})],64))}};export{ge as default};
