import{m as y,J as h,v as S,x as k,f as u,a,w as m,F as x,o as p,d as f,b as o,i as d,p as B,u as s,z as M,q as v,n as U,e as P,t as A}from"./app-4dac8bf5.js";import{_ as D,a as F}from"./SecondaryButton-ad38b2de.js";import{_ as L}from"./PrimaryButton-b0c42bb3.js";import{_ as N}from"./SuccessButton-da2ded46.js";import{_ as r}from"./InputLabel-12fd32ee.js";import{_ as c}from"./InputError-ff0c8d7c.js";import{Z as z}from"./main-57810e75.js";const E={class:"p-6"},T=o("h2",{class:"text-lg font-medium text-gray-900"},"Legder Payment",-1),Z=o("hr",null,null,-1),j={class:"mt-6"},q={class:"row g-2"},J={class:"col-md-7"},G=["disabled"],H=["value"],I={class:"col-md-5"},K={class:"col-md-3"},O={class:"col-md-3"},Q={class:"col-md-12"},R={class:"mt-6 flex justify-end"},le={__name:"Payment",props:{companies:Array,balance:Array},setup(W){const i=y(!1),g=y(!1),V=h().props.companies,b=h().props.ledger_company_id,e=S({company_id:b||"",balance_total:0,credit:"",ledger_at:"",comments:""}),C=()=>{i.value=!0,g.value=!1,w()},w=()=>{axios.post(route("ledger.balance"),e).then(({data:n})=>{e.balance_total=n.balance_total}).catch(n=>{})},$=()=>{e.post(route("ledger.payment"),{preserveScroll:!0,onSuccess:n=>{_()},onError:n=>{console.log(n)},onFinish:()=>{}})},_=()=>{i.value=!1,e.reset()};return k(()=>{}),(n,l)=>(p(),u(x,null,[a(L,{onClick:C,type:"button",class:"mx-1"},{default:m(()=>[f("Payment")]),_:1}),a(D,{show:i.value,onClose:_},{default:m(()=>[o("form",{onSubmit:l[5]||(l[5]=P(t=>g.value?n.update():$(),["prevent"]))},[o("div",E,[T,Z,o("div",j,[o("div",q,[o("div",J,[a(r,{for:"",value:"Company",class:"mb-1"}),d(o("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>s(e).company_id=t),class:"form-control",disabled:s(b)},[(p(!0),u(x,null,M(s(V),t=>(p(),u("option",{value:t.id},A(t.name),9,H))),256))],8,G),[[B,s(e).company_id]]),a(c,{message:s(e).errors.company_id},null,8,["message"])]),o("div",I,[a(r,{for:"",value:"Payment Date",class:"mb-1"}),a(s(z),{modelValue:s(e).ledger_at,"onUpdate:modelValue":l[1]||(l[1]=t=>s(e).ledger_at=t),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),a(c,{message:s(e).errors.ledger_at},null,8,["message"])]),o("div",K,[a(r,{for:"",value:"Balance",class:"mb-1"}),d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":l[2]||(l[2]=t=>s(e).balance_total=t),readonly:""},null,512),[[v,s(e).balance_total]]),a(c,{message:s(e).errors.balance_total},null,8,["message"])]),o("div",O,[a(r,{for:"",value:"Credit Amount",class:"mb-1"}),d(o("input",{type:"text",class:"form-control","onUpdate:modelValue":l[3]||(l[3]=t=>s(e).credit=t)},null,512),[[v,s(e).credit]]),a(c,{message:s(e).errors.credit},null,8,["message"])]),o("div",Q,[a(r,{for:"",value:"Comments",class:"mb-1"}),d(o("textarea",{class:"form-control","onUpdate:modelValue":l[4]||(l[4]=t=>s(e).comments=t),id:"comments",rows:"3"},null,512),[[v,s(e).comments]])])])]),o("div",R,[a(F,{onClick:_},{default:m(()=>[f(" Cancel ")]),_:1}),a(N,{class:U(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:m(()=>[f(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{le as default};
