import{p as b,J as y,v as C,m as M,B as $,f as c,a as t,w as r,F as h,o as _,d as p,b as a,i as u,A as k,u as s,y as S,t as U,z as x,n as Y,e as A}from"./app-3e0b7936.js";import{_ as F,a as N}from"./SecondaryButton-33bc4454.js";import{_ as z}from"./PrimaryButton-8503865a.js";import{_ as E}from"./SuccessButton-94fc99e1.js";import{_ as i}from"./InputLabel-f5fcd561.js";import{_ as f}from"./InputError-f47b5412.js";import{Z as L}from"./main-7ab61aa3.js";import{h as O}from"./moment-a9aaa855.js";const T={class:"p-6"},Z=a("h2",{class:"text-lg font-medium text-gray-900"},"Opening Balance",-1),j=a("hr",null,null,-1),I={class:"mt-6"},J={class:"row g-2"},q={class:"col-md-5"},G=["disabled"],H=["value"],K={class:"col-md-4"},P={class:"col-md-3"},Q={class:"col-md-12"},R={class:"mt-6 flex justify-end"},re={__name:"Balance",props:{companies:Array,balance:Array},setup(W){const m=b(!1),g=b(!1),w=y().props.companies,v=y().props.ledger_company_id,e=C({company_id:v||"",opening_balance:"",ledger_at:"",comments:""}),D=()=>{m.value=!0,g.value=!1},V=()=>{e.post(route("ledger.opening-balance"),{preserveScroll:!0,onSuccess:n=>{d()},onError:n=>{console.log(n)},onFinish:()=>{}})},d=()=>{m.value=!1,e.reset()};M(()=>{});const B=n=>O(n).format("YYYY-MM-DD");return $(()=>{e.ledger_at&&(e.ledger_at=B(e.ledger_at))}),(n,l)=>(_(),c(h,null,[t(z,{onClick:D,type:"button",class:"mx-1"},{default:r(()=>[p("Balance")]),_:1}),t(F,{show:m.value,onClose:d},{default:r(()=>[a("form",{onSubmit:l[4]||(l[4]=A(o=>g.value?n.update():V(),["prevent"]))},[a("div",T,[Z,j,a("div",I,[a("div",J,[a("div",q,[t(i,{for:"",value:"Company",class:"mb-1"}),u(a("select",{"onUpdate:modelValue":l[0]||(l[0]=o=>s(e).company_id=o),class:"form-control",disabled:s(v)},[(_(!0),c(h,null,S(s(w),o=>(_(),c("option",{value:o.id},U(o.name),9,H))),256))],8,G),[[k,s(e).company_id]]),t(f,{message:s(e).errors.company_id},null,8,["message"])]),a("div",K,[t(i,{for:"",value:"Ledger/Invoice Date",class:"mb-1"}),t(s(L),{modelValue:s(e).ledger_at,"onUpdate:modelValue":l[1]||(l[1]=o=>s(e).ledger_at=o),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),t(f,{message:s(e).errors.ledger_at},null,8,["message"])]),a("div",P,[t(i,{for:"",value:"Opening Balance",class:"mb-1"}),u(a("input",{type:"text",class:"form-control","onUpdate:modelValue":l[2]||(l[2]=o=>s(e).opening_balance=o)},null,512),[[x,s(e).opening_balance]]),t(f,{message:s(e).errors.opening_balance},null,8,["message"])]),a("div",Q,[t(i,{for:"",value:"Comments",class:"mb-1"}),u(a("textarea",{class:"form-control","onUpdate:modelValue":l[3]||(l[3]=o=>s(e).comments=o),id:"comments",rows:"3"},null,512),[[x,s(e).comments]])])])]),a("div",R,[t(N,{onClick:d},{default:r(()=>[p(" Cancel ")]),_:1}),t(E,{class:Y(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:r(()=>[p(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{re as default};
