import{_ as O}from"./AuthenticatedLayout-b06736b0.js";import{J as D,p as L,f as i,a as r,u as _,w as P,F as d,o,X as j,b as t,c as S,q as h,x as F,g as n,s as I,t as s,y as V,d as q,v as z}from"./app-f41c96d7.js";import G from"./Filter-655d88fe.js";import M from"./Payment-886f4298.js";import T from"./Balance-05073ca9.js";import U from"./EditLedger-08e09e05.js";import{_ as W}from"./PrimaryButton-9c42ee46.js";import X from"./InvoiceDetailModal-3c74d500.js";/* empty css                                                         */import"./index-bc8fed15.js";import"./SecondaryButton-ca0c5d7b.js";import"./SuccessButton-41470eda.js";import"./InputLabel-242cf4c4.js";import"./InputError-3b9c20d3.js";import"./main-91028291.js";import"./moment-a9aaa855.js";import"./InvoiceDetail-7ceade92.js";import"./Paginate-e33bf32e.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./DeleteInvoiceUpload-e7499701.js";import"./DangerButton-5afa483e.js";const J={class:"page-wrapper"},K={class:"page-content"},Y={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},H=t("div",{class:"breadcrumb-title pe-3"},"Invoice Management",-1),Q=t("div",{class:"ps-3"},[t("nav",{"aria-label":"breadcrumb"},[t("ol",{class:"breadcrumb mb-0 p-0"},[t("li",{class:"breadcrumb-item"},[t("a",{href:"javascript:;"},[t("i",{class:"bx bx-home-alt"})])]),t("li",{class:"breadcrumb-item active","aria-current":"page"},"Ledger List")])])],-1),Z={class:"ms-auto"},tt={class:"ms-auto"},et=["href"],st=t("i",{class:"bx bxs-printer text-white"},null,-1),ot={class:"card"},at={class:"card-body"},it={class:"table-responsive"},nt={class:"table table-bordered ledger-table table-sm text-uppercase",style:{"font-size":"12px"}},ct={class:"table-light"},lt=t("tr",null,[t("th",{colspan:"15",class:"text-uppercase text-center"}," General Ledger | CURRENCY: PKR/RS ")],-1),rt={colspan:"15",class:"text-uppercase text-center text-lg"},_t=t("tr",null,[t("th",{class:"px-2"},"Company"),t("th",{class:"px-2"},"Ledger at"),t("th",{class:"px-2"},"Airline"),t("th",{class:"px-2"},"MAWB #"),t("th",{class:"px-2"},"Orig"),t("th",{class:"px-2"},"Dest"),t("th",{class:"px-2"},"AFC Rate"),t("th",{class:"px-2"},"Pieces"),t("th",{class:"px-2"},"Weight"),t("th",{class:"px-2"},"Invoice ID"),t("th",{class:"px-2"},"Debit"),t("th",{class:"px-2"},"Credit"),t("th",{class:"px-2"},"Balance"),t("th",{class:"px-2"},"D/C"),t("th",{class:"px-2"})],-1),dt={class:"px-2"},pt={class:"px-2"},ht={class:"px-2"},mt={class:"px-2"},ut={class:"px-2"},xt={class:"px-2"},bt={class:"px-2"},ft={class:"px-2"},vt={class:"px-2"},yt={class:"px-2"},kt=["href"],gt=t("i",{class:"bx bxs-printer"},null,-1),Ct=[gt],$t=["href"],Rt=t("i",{class:"bx bx-link-external"},null,-1),wt=[Rt],Dt={key:1,colspan:"8"},Lt={class:"px-2"},Pt={class:"px-2"},St={class:"px-2"},Ft={class:"px-2"},Nt={class:"px-2"},At={key:0,class:"d-flex order-actions"},Bt=["onClick"],Et=t("i",{class:"bx bx-edit"},null,-1),Ot=[Et],jt=["onClick"],It=t("i",{class:"bx bx-trash"},null,-1),Vt=[It],qt={key:0},zt=t("td",{class:"text-center",colspan:"15"},"No record",-1),Gt=[zt],Mt=t("th",{colspan:"10",class:"text-right"},"Total",-1),Tt=t("th",null,null,-1),Ut=t("th",null,null,-1),me={__name:"Index",props:{ledgers:Object,companies:Object,filter:Object,balance:Object},setup(c){const m=D().props.auth.user.roles[0],p=D().props.can,l=a=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a),N=a=>{const x=z({ledger_id:a});confirm("Are you sure you want to delete this Ledger?")&&x.post(route("ledger.delete"),{preserveScroll:!0,onSuccess:e=>{},onError:e=>{},onFinish:()=>{}})},u=L(null),A=a=>{u.value.edit(a)},B=L(null);return(a,x)=>(o(),i(d,null,[r(_(j),{title:"Ledgers"}),r(O,null,{default:P(()=>[t("div",J,[t("div",K,[t("div",Y,[H,Q,t("div",Z,[r(U,{ref_key:"create_edit_ref",ref:u},null,512)]),t("div",tt,[_(m).id!=2?(o(),S(T,h(F({key:0},a.$props)),null,16)):n("",!0),_(m).id!=2?(o(),S(M,h(F({key:1},a.$props)),null,16)):n("",!0),r(G,h(I(a.$props)),null,16),t("a",{href:a.route("ledger.print",c.filter),title:"Print",class:"ms-1",target:"_blank"},[r(W,null,{default:P(()=>[st]),_:1})],8,et)])]),t("div",ot,[t("div",at,[t("div",it,[t("table",nt,[t("thead",ct,[lt,t("tr",null,[t("th",rt,s(c.filter.company_name??"EXPRESS SAVER CARGO")+" | "+s(c.filter.month_name)+" "+s(c.filter.year),1)]),_t]),t("tbody",null,[(o(!0),i(d,null,V(c.ledgers.data,(e,Wt)=>{var b,f,v,y,k,g,C,$,R,w;return o(),i("tr",null,[t("td",dt,s(e.company_name),1),t("td",pt,s(e.ledger_at),1),e.amount_type==1?(o(),i(d,{key:0},[t("td",ht,s((b=e.invoice)==null?void 0:b.carrier),1),t("td",mt,s((f=e.invoice)==null?void 0:f.mawb_no),1),t("td",ut,s((v=e.invoice)==null?void 0:v.sender),1),t("td",xt,s((y=e.invoice)==null?void 0:y.destination),1),t("td",bt,s(l((k=e.invoice)==null?void 0:k.afc_rate)),1),t("td",ft,s((g=e.invoice)==null?void 0:g.quantity),1),t("td",vt,s((C=e.invoice)==null?void 0:C.weight),1),t("td",yt,[q(s(e.invoice.id)+" ",1),($=e.invoice)!=null&&$.id?(o(),i("a",{key:0,href:a.route("invoice.print",(R=e.invoice)==null?void 0:R.id),title:"Print",class:"text-lg",target:"_blank"},Ct,8,kt)):n("",!0),_(p).invoice_update?(o(),i("a",{key:1,href:a.route("invoice.edit",(w=e.invoice)==null?void 0:w.id),class:"text-lg",target:"_blank"},wt,8,$t)):n("",!0)])],64)):n("",!0),e.amount_type==2||e.amount_type==3?(o(),i("td",Dt,s(e.comments),1)):n("",!0),t("td",Lt,s(l(e.debit)),1),t("td",Pt,s(l(e.credit)),1),t("td",St,s(l(e.balance)),1),t("td",Ft,s(e.amount_type==1?"Dr":"")+" "+s(e.amount_type==2?"Cr":""),1),t("td",Nt,[e.amount_type==2||e.amount_type==3?(o(),i("div",At,[e.amount_type==2?(o(),i(d,{key:0},[_(p).ledger_update?(o(),i("a",{key:0,href:"#",class:"mx-1",onClick:E=>A(e)},Ot,8,Bt)):n("",!0)],64)):n("",!0),_(p).ledger_delete?(o(),i("a",{key:1,class:"text-danger",href:"#",onClick:E=>N(e.id)},Vt,8,jt)):n("",!0)])):n("",!0)])])}),256)),c.ledgers.data.length==0?(o(),i("tr",qt,Gt)):n("",!0),t("tr",null,[Mt,t("th",null,s(l(c.balance.debit_total)),1),t("th",null,s(l(c.balance.credit_total)),1),t("th",null,s(l(c.balance.balance_total)),1),Tt,Ut])])])])])])])]),r(X,{ref_key:"invoice_detail_ref",ref:B},null,512)]),_:1})],64))}};export{me as default};
