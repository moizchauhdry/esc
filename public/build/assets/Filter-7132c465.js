import{m as y,J as w,v as x,s as k,f as c,a,w as m,F as h,o as f,d as _,b as o,i as C,p as $,u as t,z as F,n as M,e as N,t as Y}from"./app-06c6cc13.js";import{_ as B,a as J}from"./SecondaryButton-ea364a4d.js";import{_ as O}from"./PrimaryButton-1c2e4429.js";import{_ as U}from"./SuccessButton-3a4d9b3a.js";import{_ as u}from"./InputLabel-41ce0a0e.js";import{_ as p}from"./InputError-7cf31920.js";import{Z as b}from"./main-d6a142b4.js";import{h as z}from"./moment-a9aaa855.js";const E={class:"p-6"},I=o("h2",{class:"text-lg font-medium text-gray-900"},"Search Ledger",-1),L=o("p",{class:"mt-1 text-sm text-gray-600"}," Once your account is added, you can simply search by account number, and the address will be fetched accordingly in invoice form. ",-1),T={class:"mt-6"},Z={class:"row g-2"},j={class:"col-md-6"},A=["value"],q={class:"col-md-3"},G={class:"col-md-3"},H={class:"mt-6 flex justify-end"},ae={__name:"Filter",props:{companies:Array},setup(K){const d=y(!1),v=y(!1),S=w().props.companies;var l="";const e=x({company:"",from_date:"",to_date:""}),D=()=>{d.value=!0,v.value=!1,l=localStorage.getItem("filters"),l&&(l=JSON.parse(l),e.company=l.company)},V=()=>{var n={company:e.company,from_date:e.from_date,to_date:e.to_date};e.post(route("ledger.index"),{preserveScroll:!0,onSuccess:s=>{i(),localStorage.setItem("filters",JSON.stringify(n))},onError:s=>{console.log(s)},onFinish:()=>{}})},i=()=>{d.value=!1,e.reset()},g=n=>z(n).format("YYYY-MM-DD");return k(()=>{e.from_date&&(e.from_date=g(e.from_date)),e.to_date&&(e.to_date=g(e.to_date))}),(n,s)=>(f(),c(h,null,[a(O,{onClick:D,type:"button"},{default:m(()=>[_("Search")]),_:1}),a(B,{show:d.value,onClose:i},{default:m(()=>[o("form",{onSubmit:s[3]||(s[3]=N(r=>v.value?n.update():V(),["prevent"]))},[o("div",E,[I,L,o("div",T,[o("div",Z,[o("div",j,[a(u,{for:"",value:"Company",class:"mb-1"}),C(o("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>t(e).company=r),class:"form-control"},[(f(!0),c(h,null,F(t(S),r=>(f(),c("option",{value:r.id},Y(r.name),9,A))),256))],512),[[$,t(e).company]]),a(p,{message:t(e).errors.company},null,8,["message"])]),o("div",q,[a(u,{for:"",value:"From Date",class:"mb-1"}),a(t(b),{modelValue:t(e).from_date,"onUpdate:modelValue":s[1]||(s[1]=r=>t(e).from_date=r),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),a(p,{message:t(e).errors.from_date},null,8,["message"])]),o("div",G,[a(u,{for:"",value:"To Date",class:"mb-1"}),a(t(b),{modelValue:t(e).to_date,"onUpdate:modelValue":s[2]||(s[2]=r=>t(e).to_date=r),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"]),a(p,{message:t(e).errors.to_date},null,8,["message"])])])]),o("div",H,[a(J,{onClick:i},{default:m(()=>[_(" Cancel ")]),_:1}),a(U,{class:M(["ml-3",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:m(()=>[_(" Search ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{ae as default};
