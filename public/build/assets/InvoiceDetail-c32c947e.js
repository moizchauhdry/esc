import{J as I,v as w,m as N,h as S,f as n,b as e,t as s,u as c,a as r,w as B,g,F as d,z as D,o,d as V,c as $}from"./app-bc0759de.js";import"./index-47a2f53a.js";import{_ as A}from"./PrimaryButton-fa410988.js";import{P as E}from"./Paginate-28b0490a.js";import L from"./DeleteInvoiceUpload-22b2f3af.js";import{_ as P}from"./InputError-2f431b86.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./DangerButton-b4d73036.js";import"./SecondaryButton-faf9af64.js";const R={class:"table table-bordered"},U=e("tr",{class:"bg-primary text-white"},[e("th",{class:"text-uppercase p-1",colspan:"8"},"Invoice Detail")],-1),j=e("th",null,"Invoice #",-1),z=e("th",null,"Company",-1),J=e("th",null,"Shipper",-1),M=e("th",null,"Consignee",-1),O=e("tr",{class:"bg-primary text-white"},[e("th",{class:"text-uppercase p-1",colspan:"8"},[e("div",null,"Invoice Files")])],-1),T={key:0},q={colspan:"5"},G={colspan:"3"},H={class:"d-flex order-actions"},K={class:"table-responsive"},Q={class:"table table-striped table-bordered table-sm"},W=e("tr",{class:"text-uppercase"},[e("th",{colspan:"8",class:"bg-dark text-white"},"Attachments")],-1),X=e("tr",{class:"text-uppercase"},[e("th",null,"SR. #"),e("th",null,"File ID"),e("th",{colspan:"6"},"URL"),e("th")],-1),Y={colspan:"6"},Z={class:"text-underline"},ee=["href"],te={key:1},se=e("th",{class:"p-2"},"No record found.",-1),oe=[se],he={__name:"InvoiceDetail",props:{invoice:Object,invoice_uploads:Array},setup(t){const y=t,u=I().props.can,a=w({invoice_id:"",file:""}),k=l=>{const _=l.target.files[0];a.file=_},x=()=>{a.post(route("invoice.upload"),{preserveScroll:!0,onSuccess:()=>{},onError:()=>{},onFinish:()=>{}})};N(()=>{});const C=S(()=>{var l;return((l=y.invoice)==null?void 0:l.id)||null});return a.invoice_id=C.value,(l,_)=>{var h,p,m,v,f,b;return o(),n(d,null,[e("table",R,[e("tbody",null,[U,e("tr",null,[j,e("td",null,s(t.invoice.id),1),z,e("td",null,s((p=(h=t.invoice)==null?void 0:h.company)==null?void 0:p.name),1),J,e("td",null,s((v=(m=t.invoice)==null?void 0:m.shipper)==null?void 0:v.name),1),M,e("td",null,s((b=(f=t.invoice)==null?void 0:f.consignee)==null?void 0:b.name),1)]),O,c(u).invoice_upload?(o(),n("tr",T,[e("td",q,[e("div",null,[e("input",{type:"file",class:"form-control",onChange:k},null,32),r(P,{message:c(a).errors.file},null,8,["message"])])]),e("td",G,[e("div",H,[r(A,{onClick:x},{default:B(()=>[V("Upload File")]),_:1})])])])):g("",!0)])]),e("div",K,[e("table",Q,[e("tbody",null,[t.invoice_uploads.data.length>0?(o(),n(d,{key:0},[W,X,(o(!0),n(d,null,D(t.invoice_uploads.data,(i,F)=>(o(),n("tr",{key:i.id},[e("td",null,s(++F),1),e("td",null,s(i.id),1),e("td",Y,[e("div",Z,[e("a",{href:"/storage/"+i.url,target:"_blank",rel:"noopener noreferrer",class:"btn btn-primay"},s(i.url),9,ee)])]),e("td",null,[c(u).invoice_upload_destroy?(o(),$(L,{key:0,upload_id:i.id},null,8,["upload_id"])):g("",!0)])]))),128))],64)):(o(),n("tr",te,oe))])])]),e("div",null,[r(E,{links:t.invoice_uploads.links,scroll:!0},null,8,["links"])])],64)}}};export{he as default};
